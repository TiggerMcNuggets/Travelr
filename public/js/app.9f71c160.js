(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)s=o[d],i[s]&&p.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("1356"),i=a.n(n);i.a},"0423":function(t,e,a){},"09c9":function(t,e,a){"use strict";var n=a("6d70"),i=a.n(n);i.a},1356:function(t,e,a){},1413:function(t,e,a){},"200e":function(t,e,a){},"214e":function(t,e,a){t.exports=a.p+"img/purple-google-maps-marker.3637be35.svg"},"2b10":function(t,e,a){"use strict";var n=a("5545"),i=a.n(n);i.a},3404:function(t,e,a){},"3cda":function(t,e,a){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id="4678"},"4e08":function(t,e,a){},5223:function(t,e,a){"use strict";var n=a("0423"),i=a.n(n);i.a},"553e":function(t,e,a){"use strict";var n=a("4e08"),i=a.n(n);i.a},5545:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=a("bb71");a("1413");n["a"].use(i["a"],{iconfont:"md"});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{temporary:"",clipped:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[t._l(t.menuOptions,function(e){return a("v-list-tile",{key:e.name,attrs:{to:e.link}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-tile-content",[t._v(t._s(e.name))])],1)}),t.loggedIn?a("v-list-tile",{on:{click:t.logout}},[a("v-list-tile-action",[a("v-icon",[t._v("lock_open")])],1),a("v-list-tile-content",[t._v("Logout")])],1):t._e()],2)],1),a("v-toolbar",{attrs:{color:"indigo",dark:"",dense:"","clipped-left":"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("router-link",{staticClass:"white--text",attrs:{to:"/"}},[a("v-toolbar-title",[t._v("Travelr")])],1)],1),a("v-content",{staticClass:"main-content"},[a("v-container",{staticClass:"main-container",attrs:{fluid:"","pa-0":"","ma-0":""}},[a("router-view")],1)],1)],1)},s=[],o=a("2f62"),l=(a("96cf"),a("3b8d")),c=a("795b"),u=a.n(c),d=a("bc3a"),p=a.n(d),f=-1!=window.location.hostname.indexOf("localhost")?"http://localhost:9000":window.location.protocol+"//"+window.location.hostname+":"+window.location.port,v=f,h=v+"/api",m=p.a.create({baseURL:h});m.defaults.headers.post["Access-Control-Allow-Origin"]="*",m.interceptors.request.use(function(t){var e=localStorage.getItem("token");return e&&(t.headers["X-Authorization"]=e),t},function(t){return u.a.reject(t)});var g=m,b={login:function(t){return g.post("/login",t)},signup:function(t){return g.post("/travellers",t)},logout:function(){return g.post("/logout")}},y={getProfile:function(t){return g.get("/travellers/".concat(t))},editProfile:function(t,e){return g.put("/travellers/".concat(e),t)}},k={getUsers:function(t){return g.get("/travellers_filter",{params:t})},getUser:function(t){return g.get("/travellers/".concat(t))},createUser:function(t){return g.post("/travellers",t)},updateUser:function(t,e){return g.put("/travellers/".concat(t),e)},getTravellerTypes:function(){return g.get("/traveller-types")},getMe:function(){return g.get("/travellers/me")},getNationalities:function(){return g.get("/nationalities")},toggleUserDeleted:function(t){return g.put("/travellers/".concat(t,"/toggle_deleted"))}},x={state:{user:null,token:localStorage.getItem("token")||""},mutations:{setToken:function(t,e){t.token=e},setUser:function(t,e){t.user=e},logout:function(t){t.user=null,t.token=""}},actions:{login:function(t,e){var a=t.commit,n=t.dispatch;return new u.a(function(t,i){b.login(e).then(function(t){return a("setToken",t.data.token),localStorage.setItem("token",t.data.token),n("fetchMe")}).then(function(e){t(e)}).catch(function(t){a("setToken",""),a("setUser",null),i(t)})})},signup:function(t,e){t.commit;return new u.a(function(t,a){b.signup(e).then(function(){t()}).catch(function(t){a(t)})})},signupOtherUser:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,t.next=3,new u.a(function(t,e){b.signup(a).then(function(e){t(e)}).catch(function(t){e(t)})});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),updateUser:function(t,e){var a=t.commit;t.state;return new u.a(function(t,n){y.editProfile(e,e.id).then(function(){a("setUser",e),t()}).catch(function(t){n(t)})})},fetchMe:function(t){var e=t.commit;t.state;return new u.a(function(t,a){k.getMe().then(function(a){e("setUser",a.data),t(a)}).catch(function(t){localStorage.removeItem("token"),e("logout"),a(t)})})},logout:function(t){var e=t.commit;return new u.a(function(t,a){b.logout().then(function(){e("logout"),localStorage.removeItem("token"),t()}).catch(function(t){e("logout"),localStorage.removeItem("token"),a(t)})})}},getters:{getUser:function(t){return t.user},getToken:function(t){return t.token},getIsUserAdmin:function(t){return t.user&&t.user.accountType>0},isLoggedIn:function(t){return t.user}}},_=(a("55dd"),a("7f7f"),a("6762"),a("2fdb"),a("c1df")),w=a.n(_),T={convertStringToTimestamp:function(t){return w()(t).utc().unix()},convertTimestampToString:function(t){return null!==t?w.a.unix(t).format("YYYY-MM-DD"):"N/A"}},D=T,C={state:{users:[],nationalities:[],travellerTypes:[]},mutations:{setUsers:function(t,e){t.users=e},setNationalities:function(t,e){t.nationalities=e},setTravellerTypes:function(t,e){t.travellerTypes=e}},actions:{getUsers:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a){var n,i,r,s,o,l,c,u,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,i={},a&&(""!==a.firstName&&(i.firstName=a.firstName),""!==a.lastName&&(i.lastName=a.lastName),""!==a.gender&&(i.gender=a.gender),""!==a.minAge&&(i.minAge=a.minAge),""!==a.maxAge&&(i.maxAge=a.maxAge),0!==a.nationality.length&&(i.nationality=a.nationality),0!==a.travellerType.length&&(i.travellerType=a.travellerType),""!==a.orderBy&&(i.orderBy=a.orderBy)),t.prev=3,t.next=6,k.getUsers(i);case 6:for(r=t.sent,s=[],o=0;o<r["data"].length;o++){if(r.data[o]["dateOfBirth"]=D.convertTimestampToString(r.data[o]["dateOfBirth"]),l=!0,c=!0,i.nationality)for(l=!1,u=0;u<r["data"][o]["nationalities"].length;u++)i.nationality.includes(r["data"][o]["nationalities"][u]["name"])&&(l=!0);if(i.travellerType)for(c=!1,d=0;d<r["data"][o]["travellerTypes"].length;d++)i.travellerType.includes(r["data"][o]["travellerTypes"][d]["name"])&&(c=!0);l&&c&&s.push(r["data"][o])}i.orderBy&&("Nationality"===i.orderBy?s.sort(function(t,e){return t.nationalities[0]>e.nationalities[0]?-1:1}):s.sort(function(t,e){return t.travellerTypes[0]>e.travellerTypes[0]?-1:1})),n("setUsers",s),t.next=16;break;case 13:return t.prev=13,t.t0=t["catch"](3),t.abrupt("return");case 16:case"end":return t.stop()}},t,null,[[3,13]])}));function e(e,a){return t.apply(this,arguments)}return e}(),getAllTravellerTypes:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,n,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,k.getTravellerTypes();case 4:for(n=t.sent,i=[],r=0;r<n["data"].length;r++)i.push(n["data"][r]["name"]);i.sort(),a("setTravellerTypes",i),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[1,11]])}));function e(e){return t.apply(this,arguments)}return e}(),getAllNationalities:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,n,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,k.getNationalities();case 4:for(n=t.sent,i=[],r=0;r<n["data"].length;r++)i.push(n["data"][r]["name"]);i.sort(),a("setNationalities",i),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[1,11]])}));function e(e){return t.apply(this,arguments)}return e}(),toggleUserDeleted:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,t.next=3,k.toggleUserDeleted(a);case 3:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}()}};n["a"].use(o["a"]);var V=new o["a"].Store({modules:{user:x,users:C}}),j={name:"App",store:V,data:function(){return{drawer:!1}},computed:{menuOptions:function(){var t=[{name:"Sign Up",icon:"assignment_ind",link:"/signup"},{name:"Log In",icon:"lock_open",link:"/login"}];return V.getters.isLoggedIn&&(t=[{name:"Profile",icon:"account_circle",link:"/user/"+V.getters.getUser.id},{name:"Users",icon:"supervised_user_circle",link:"/users"},{name:"Destination Map",icon:"map",link:"/destinations"},{name:"Destination List",icon:"list",link:"/user/"+V.getters.getUser.id+"/destinations"},{name:"My Trips",icon:"flight",link:"/user/"+V.getters.getUser.id+"/trips"}]),V.getters.getIsUserAdmin&&V.getters.isLoggedIn&&(t.push({name:"Admin Panel",icon:"playlist_add_check",link:"/admin_dash"}),t.push({name:"Edit Requests",icon:"done_all",link:"/edit_requests"})),t},loggedIn:function(){return V.getters.isLoggedIn}},methods:{logout:function(){var t=this;V.dispatch("logout").then(function(){t.$router.push("/login")}).catch(function(){t.$router.push("/login")})}}},P=j,U=(a("034f"),a("2877")),I=a("6544"),A=a.n(I),S=a("7496"),O=a("a523"),R=a("549c"),$=a("132d"),E=a("8860"),F=a("ba95"),M=a("40fe"),B=a("5d23"),L=a("f774"),N=a("71d9"),q=a("706c"),z=a("2a7f"),Y=Object(U["a"])(P,r,s,!1,null,null,null),G=Y.exports;A()(Y,{VApp:S["a"],VContainer:O["a"],VContent:R["a"],VIcon:$["a"],VList:E["a"],VListTile:F["a"],VListTileAction:M["a"],VListTileContent:B["a"],VNavigationDrawer:L["a"],VToolbar:N["a"],VToolbarSideIcon:q["a"],VToolbarTitle:z["a"]});var Z=a("8c4f"),J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overlay"},[a("v-container",{attrs:{"fill-height":"","grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",[a("h1",{staticClass:"display-4"},[t._v("Travelr")]),a("v-btn",{attrs:{round:"",large:"",color:"primary"},on:{click:function(e){return t.$router.push("/login")}}},[t._v("Login")]),a("v-btn",{attrs:{round:"",large:"",color:"primary"},on:{click:function(e){return t.$router.push("/signup")}}},[t._v("Signup")])],1)],1)],1)],1)},Q=[],W={name:"Home",data:function(){return{}}},H=W,X=(a("b497"),a("8336")),K=a("0e8f"),tt=a("a722"),et=Object(U["a"])(H,J,Q,!1,null,null,null),at=et.exports;A()(et,{VBtn:X["a"],VContainer:O["a"],VFlex:K["a"],VLayout:tt["a"]});var nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-outer-container"},[a("div",{staticClass:"profile-inner-container"},[a("v-layout",{attrs:{row:""}},[a("aside",[a("ProfileNav",{attrs:{fname:t.traveller.firstName,mname:t.traveller.middleName,lname:t.traveller.lastName,dob:t.dateOfBirth,gender:t.traveller.gender,types:t.traveller.travellerTypes,nationalities:t.nationalities,passports:t.passports,profilePic:t.traveller.userProfilePhoto},on:{"update:fname":function(e){return t.$set(t.traveller,"firstName",e)},"update:mname":function(e){return t.$set(t.traveller,"middleName",e)},"update:lname":function(e){return t.$set(t.traveller,"lastName",e)},"update:dob":function(e){t.dateOfBirth=e},"update:gender":function(e){return t.$set(t.traveller,"gender",e)},"update:types":function(e){return t.$set(t.traveller,"travellerTypes",e)},"update:nationalities":function(e){t.nationalities=e},"update:passports":function(e){t.passports=e},"update:profilePic":function(e){return t.$set(t.traveller,"userProfilePhoto",e)},"update:profile-pic":function(e){return t.$set(t.traveller,"userProfilePhoto",e)}}})],1),a("main",{staticClass:"profile-main"},[a("router-view")],1)])],1)])},it=[],rt=a("768b"),st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"profile-sidebar"},[a("div",{staticClass:"profile-top"},[a("div",{staticClass:"profile-container"},[a("img",{staticClass:"profile-image",attrs:{src:t.getImgUrl}})]),t.isMyProfile||t.isAdminUser?a("v-btn",{staticClass:"profile-edit-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.goToEdit(t.id)}}},[a("v-icon",{attrs:{dark:""}},[t._v("edit")])],1):t._e()],1),a("div",[a("div",{staticClass:"profile-heading-section"},[a("h3",{staticClass:"headline font-weight-light traveller-name"},[t._v(t._s(t.fname))]),a("p",{staticClass:"caption font-weight-light"},[t._v(t._s(t.email))])]),a("v-divider"),a("div",{staticClass:"field-section duel-section"},[a("div",{staticClass:"field-section"},[a("p",{staticClass:"body-1 font-weight-normal"},[t._v(t._s(t.dob))]),a("p",{staticClass:"caption font-weight-light field-title"},[t._v("DOB")])]),a("div",{staticClass:"field-section"},[a("p",{staticClass:"body-1 font-weight-normal"},[t._v(t._s(t.gender))]),a("p",{staticClass:"caption font-weight-light field-title"},[t._v("GENDER")])])]),a("v-divider"),a("div",{staticClass:"field-section"},[a("ul",{staticClass:"chip-list"},t._l(t.nationalities,function(e){return a("li",{key:e.value,attrs:{value:e.value}},[e.old?a("div",[a("v-chip",{staticClass:"nationality",attrs:{color:"amber lighten-3"}},[t._v("\n              "+t._s(e.name)+"\n              "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-avatar",t._g({},n),[a("v-icon",{attrs:{color:"gray",right:""}},[t._v("info")])],1)]}}],null,!0)},[a("span",[t._v("Outdated Nationality")])])],1)],1):a("div",[a("v-chip",{staticClass:"nationality"},[t._v(t._s(e.name))])],1)])}),0),a("p",{staticClass:"caption font-weight-light field-title"},[t._v("NATIONALITIES")])]),a("v-divider"),a("div",{staticClass:"field-section"},[a("ul",{staticClass:"chip-list"},t._l(t.types,function(e){return a("li",{key:e.value,attrs:{value:e.value}},[a("v-chip",[t._v(t._s(e.name))])],1)}),0),a("p",{staticClass:"caption font-weight-light field-title"},[t._v("TRAVELLER TYPES")])])],1),a("v-divider")],1)},ot=[],lt=a("b21b"),ct=a.n(lt),ut={store:V,props:["fname","mname","lname","dob","gender","types","nationalities","passports","email","profilePic"],data:function(){return{profile:{},isAdminUser:!1,isMyProfile:!1,id:this.$route.params.id}},watch:{"$route.params.id":function(){this.init()}},created:function(){this.init()},methods:{init:function(){this.traveller=V.getters.getUser,this.checkIfProfileOwner(),this.isAdminUser=V.getters.getIsUserAdmin},checkIfProfileOwner:function(){this.id=this.$route.params.id,this.isMyProfile=V.getters.getUser.id==this.id},goToEdit:function(){this.$router.push("/user/"+this.id+"/edit")}},computed:{getImgUrl:function(){return this.profilePic&&"defaultPic.png"!=this.profilePic?v+"/api/travellers/profile-photo/"+this.id:ct.a}}},dt=ut,pt=(a("2b10"),a("8212")),ft=a("b0af"),vt=a("cc20"),ht=a("ce7e"),mt=a("3a2f"),gt=Object(U["a"])(dt,st,ot,!1,null,null,null),bt=gt.exports;A()(gt,{VAvatar:pt["a"],VBtn:X["a"],VCard:ft["a"],VChip:vt["a"],VDivider:ht["a"],VIcon:$["a"],VTooltip:mt["a"]});var yt=a("5d73"),kt=a.n(yt),xt={convertToNationalitiesReq:function(t,e){var a=[],n=!0,i=!1,r=void 0;try{for(var s,o=kt()(t);!(n=(s=o.next()).done);n=!0){var l=s.value;if(!l.old){var c={id:l.id,hasPassport:!1};e.includes(l.id)&&(c.hasPassport=!0),a.push(c)}}}catch(u){i=!0,r=u}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return a},convertFromNationalitiesRes:function(t){var e=[],a=[],n=!0,i=!1,r=void 0;try{for(var s,o=kt()(t);!(n=(s=o.next()).done);n=!0){var l=s.value;e.push({id:l.id,name:l.name,old:l.old}),l.hasPassport&&a.push({id:l.id,name:l.name})}}catch(c){i=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return[e,a]},convertFromTravellerTypesRes:function(t){var e=[],a=!0,n=!1,i=void 0;try{for(var r,s=kt()(t);!(a=(r=s.next()).done);a=!0){var o=r.value;e.push(o.id)}}catch(l){n=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return e}},_t=xt,wt={name:"Profile",store:V,data:function(){return{traveller:{},dateOfBirth:"",nationalities:[],passports:[],isMyProfile:!1}},components:{ProfileNav:bt},watch:{"$route.params.id":function(){this.init()}},created:function(){this.init()},methods:{init:function(){var t=this,e=this.$route.params.id;e||(e=V.getters.getUser.id),k.getUser(e).then(function(a){t.traveller=a.data,t.setTravellerToFields(),t.isMyProfile=V.getters.getUser.id==e}).catch(function(t){console.log(t)})},getTraveller:function(){this.traveller=V.getters.getUser,this.setTravellerToFields()},setTravellerToFields:function(){var t=_t.convertFromNationalitiesRes(this.traveller.nationalities),e=Object(rt["a"])(t,2);this.nationalities=e[0],this.passports=e[1],this.dateOfBirth=D.convertTimestampToString(this.traveller.dateOfBirth)}}},Tt=wt,Dt=(a("7ca3"),Object(U["a"])(Tt,nt,it,!1,null,null,null)),Ct=Dt.exports;A()(Dt,{VLayout:tt["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("personalPhotos")],1)},jt=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"outer-container"},[a("div",{staticClass:"inner-container"},[a("div",{staticClass:"section"},[a("div",{staticClass:"dest-name"},[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{dark:""}},[t._v("keyboard_arrow_left")])],1),a("h2",{staticClass:"headline"},[t._v("Personal Photos")])],1),a("div",[t.isMyProfile||t.isAdminUser?a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:t.toggleShowUploadPhoto}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1):t._e()],1)]),a("v-divider",{staticClass:"photo-header-divider"}),t.showUploadSection?a("div",[a("div",{staticClass:"upload-section section"},[a("label",[a("input",{ref:"file",staticClass:"choose-file-button",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})]),a("v-btn",{on:{click:function(e){return t.submitFile()}}},[t._v("Upload Photo")])],1),a("v-alert",{attrs:{value:t.uploadError,color:"error"}},[t._v(t._s(t.errorText))]),a("v-alert",{attrs:{value:t.uploadSuccessful,color:"success"}},[t._v("Upload Successful")]),a("v-divider",{staticClass:"photo-header-divider"})],1):t._e(),a("ul",t._l(t.files,function(e){return a("li",{key:e.value,attrs:{value:e.value}},[a("div",{staticClass:"personal-photo-row"},t._l(e,function(e){return a("div",{key:e.value,staticClass:"image-container",attrs:{value:e.value}},[e.is_public?a("v-icon",{staticClass:"lock-icon",attrs:{left:""}},[t._v("lock_open")]):a("v-icon",{staticClass:"lock-icon",attrs:{left:""}},[t._v("lock")]),e.is_public?a("div",{staticClass:"triangle"}):a("div",{staticClass:"triangle pink-color"}),a("v-img",{staticClass:"personal-photo-element",attrs:{src:t.getImgUrl(e)},on:{click:[function(e){e.stopPropagation(),t.dialog=!0},function(a){return t.setDialogueContent(e)}]}})],1)}),0)])}),0),a("v-dialog",{attrs:{width:t.clickedImageWidth},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-img",{attrs:{src:t.clickedImageURL}}),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h5",{staticClass:"headline mb-0"},[t._v("Image Name")]),a("div",[t._v("Description/Other meta info")])])]),a("v-divider"),a("v-card-actions",[t.isAdminUser||t.isMyProfile?a("div",{staticClass:"photo-popup-options"},[a("v-switch",{attrs:{label:"Public Photo"},model:{value:t.publicPhotoSwitch,callback:function(e){t.publicPhotoSwitch=e},expression:"publicPhotoSwitch"}}),a("v-btn",{on:{click:t.updatePhotoVisability}},[t._v("Apply changes")]),a("v-btn",{on:{click:t.setProfilePhoto}},[t._v("Set Profile Photo")])],1):t._e()]),a("v-card-actions",[a("v-btn",{attrs:{color:"red"},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)])},Ut=[],It=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",g.post("/travellers/".concat(e,"/photo"),a));case 1:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),At=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",g.get("/travellers/".concat(e,"/photo")));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),St=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",g.post("/travellers/photo/".concat(e.id),e));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Ot=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",g.put("/travellers/".concat(e,"/uploadphoto"),a));case 1:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),Rt=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",g.put("/travellers/".concat(e,"/setphoto"),a));case 1:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),$t={store:V,data:function(){return{files:[],clickedImageURL:"",clickedImage:{},clickedImageWidth:0,dialog:!1,publicPhotoSwitch:!1,showUploadSection:!1,id:null,isMyProfile:!1,isAdminUser:!1,uploadError:!1,uploadSuccessful:!1,errorText:"You are trying to upload a duplicate image or an error occured while uploading."}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0]},toggleShowUploadPhoto:function(){this.showUploadSection=!this.showUploadSection},updatePhotoVisability:function(){this.clickedImage.is_public=this.publicPhotoSwitch,St(this.clickedImage)},setProfilePhoto:function(){var t=this;Rt(this.id,{photo_filename:this.clickedImage.photo_filename}).then(function(){window.location="/user/"+t.id+"/photos"})},submitFile:function(){var t=this;this.uploadError=!1,this.uploadSuccessful=!1;var e=new FormData;e.append("picture",this.file),It(this.id,e).then(function(){At(t.id).then(function(e){t.files=t.groupImages(e.data),t.uploadSuccessful=!0})}).catch(function(e){t.uploadError=!0,t.errorText=e.response.data}),this.$refs.file.value=""},getImgUrl:function(t){return v+"/api/travellers/photo/"+t.photo_filename},setDialogueContent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dialog=!0,this.clickedImage=t,this.publicPhotoSwitch=t.is_public,this.clickedImageURL=this.getImgUrl(t);var e=new Image;e.src=v+"/api/travellers/photo/"+t.photo_filename,this.clickedImageWidth=e.width<400?400:e.width},groupImages:function(t){for(var e=[],a=[],n=4,i=0;i<t.length;i++)i%n===0&&0!==a.length&&(e.unshift(a),a=[]),a.push(t[i]);return e.unshift(a),e.reverse(),e}},created:function(){var t=this;this.id=this.$route.params.id,this.id||(this.id=V.getters.getUser.id),this.isMyProfile=V.getters.getUser.id==this.id,this.isAdminUser=V.getters.getIsUserAdmin,At(this.id).then(function(e){t.files=t.groupImages(e.data)})}},Et=$t,Ft=(a("d196"),a("0798")),Mt=a("99d9"),Bt=a("12b2"),Lt=a("169a"),Nt=a("adda"),qt=a("b73d"),zt=Object(U["a"])(Et,Pt,Ut,!1,null,null,null),Yt=zt.exports;A()(zt,{VAlert:Ft["a"],VBtn:X["a"],VCard:ft["a"],VCardActions:Mt["a"],VCardTitle:Bt["a"],VDialog:Lt["a"],VDivider:ht["a"],VIcon:$["a"],VImg:Nt["a"],VSwitch:qt["a"]});var Gt={name:"Profile",store:V,data:function(){return{}},components:{PersonalPhotos:Yt},methods:{}},Zt=Gt,Jt=Object(U["a"])(Zt,Vt,jt,!1,null,null,null),Qt=Jt.exports;A()(Jt,{VCard:ft["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("trips")],1)},Ht=[],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"outer-container",staticStyle:{"margin-left":"0px","margin-top":"-20px"},attrs:{height:"100%"}},[a("div",{staticClass:"section"},[a("div",{staticClass:"dest-name"},[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{dark:""}},[t._v("keyboard_arrow_left")])],1),a("undo-redo-buttons",{attrs:{canRedo:t.rollbackCanRedo(),canUndo:t.rollbackCanUndo(),undo:t.undo,redo:t.redo}}),a("h2",{staticClass:"headline"},[t._v("Trips")])],1),a("div",[t.isMyProfile||t.isAdminUser?a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:t.toggleShowCreateTrip}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1):t._e(),a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:t.toggleShowSearch}},[a("v-icon",{attrs:{dark:""}},[t._v("search")])],1)],1)]),a("v-divider",{staticClass:"photo-header-divider"}),a("v-alert",{attrs:{value:t.undoRedoError,type:"error"}},[t._v("Cannot undo or redo")]),t.searchActive?a("v-text-field",{attrs:{label:"Trip name","prepend-icon":"search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}):t._e(),t.showCreateTrip?a("div",[t.showCreateTrip?a("create-trip",{attrs:{toggleShowCreateTrip:t.toggleShowCreateTrip,regetTrips:t.regetTrips,passedTrip:null,updateViewTripPage:function(){return t.getUserTrips}}}):t._e()],1):t._e(),a("ul",t._l(t.tripsFiltered,function(e){return a("li",{key:e.value,staticClass:"trips-list-element",attrs:{value:e.value}},[a("v-card",[a("v-flex",{attrs:{"d-flex":"","justify-space-between":"","align-center":""}},[a("div",{staticClass:"top-destination-content",on:{click:function(a){return t.openTrip(e.id)}}},[a("h2",[t._v(t._s(e.name))])]),a("div",{staticClass:"crud-options"},[!t.isMyProfile&&!t.isAdminUser||e.isPublic?t._e():a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.deleteTrip(e.id)}}},[a("v-icon",{attrs:{color:"red lighten-1"}},[t._v("delete")])],1)],1)])],1)],1)}),0)],1)},Kt=[],te=(a("386d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-trip-container"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("div",{staticClass:"add-trip-form"},[a("h3",[t._v(t._s(this.dialogName))]),a("UndoRedoButtons",{attrs:{canRedo:t.rollbackCanRedo(),canUndo:t.rollbackCanUndo(),undo:t.undo,redo:t.redo}}),a("v-layout",{staticClass:"trip-name"},[a("v-flex",{staticClass:"row-input-margin",attrs:{xs12:"",md12:""}},[a("v-text-field",{attrs:{rules:t.nameRules,counter:60,label:"Trip Name"},model:{value:t.trip.name,callback:function(e){t.$set(t.trip,"name",e)},expression:"trip.name"}})],1)],1),a("ul",[a("draggable",{staticClass:"list-group",attrs:{list:t.trip.destinations,disabled:!t.draggableEnabled,"ghost-class":"ghost"},on:{start:function(e){t.dragging=!0},end:function(e){t.dragging=!1}}},t._l(t.trip.destinations,function(e,n){return a("li",{key:n,staticClass:"list-group-item",attrs:{"v-bind":n}},[a("v-card",{staticClass:"destination-form-padding"},[a("v-layout",[a("v-flex",{staticClass:"create-trip-item",attrs:{xs12:"",md4:""}},[a("v-combobox",{attrs:{rules:t.noSameDestinationNameConsecutiveRule,items:t.userDestinations.map(function(t){return t.name}),label:"Select an existing destination"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"destination.title"}}),n>1?a("v-btn",{attrs:{flat:"",small:"",color:"error"},on:{click:function(e){return t.deleteDestination(n)}}},[t._v("Remove")]):t._e()],1),a("v-flex",{staticClass:"create-trip-item",attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"times-padding"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[a("v-text-field",t._g({attrs:{rules:t.arrivalBeforeDepartureAndDestinationsOneAfterTheOther,label:"Arrival date","prepend-icon":"event",readonly:""},model:{value:e.arrivalDate,callback:function(a){t.$set(e,"arrivalDate",a)},expression:"destination.arrivalDate"}},i))]}}],null,!0),model:{value:e.arrivalDateMenu,callback:function(a){t.$set(e,"arrivalDateMenu",a)},expression:"destination.arrivalDateMenu"}},[a("v-date-picker",{on:{input:function(t){e.arrivalDateMenu=!1}},model:{value:e.arrivalDate,callback:function(a){t.$set(e,"arrivalDate",a)},expression:"destination.arrivalDate"}})],1)],1)],1),a("v-flex",{staticClass:"create-trip-item",attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"times-padding"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[a("v-text-field",t._g({attrs:{rules:t.arrivalBeforeDepartureAndDestinationsOneAfterTheOther,label:"Departure date","prepend-icon":"event",readonly:""},model:{value:e.departureDate,callback:function(a){t.$set(e,"departureDate",a)},expression:"destination.departureDate"}},i))]}}],null,!0),model:{value:e.departureDateMenu,callback:function(a){t.$set(e,"departureDateMenu",a)},expression:"destination.departureDateMenu"}},[a("v-date-picker",{on:{input:function(t){e.departureDateMenu=!1}},model:{value:e.departureDate,callback:function(a){t.$set(e,"departureDate",a)},expression:"destination.departureDate"}})],1)],1)],1),a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"red lighten-2"},on:{click:function(e){return t.resetDestinationDate(n)}}},[a("v-icon",t._g({attrs:{color:"red",dark:""}},i),[t._v("remove_circle")])],1)]}}],null,!0)},[a("span",[t._v("Reset dates")])])],1)],1)],1)}),0)],1),a("div",{staticClass:"create-trip-options"},[a("v-btn",{attrs:{color:"red"},on:{click:t.resetValues}},[t._v("RESET")]),a("v-btn",{on:{click:t.onConfirm}},[t._v("CONFIRM")]),a("v-btn",{on:{click:t.addDestinationToTrip}},[t._v("ADD DESTINATION")])],1)],1)])],1)}),ee=[],ae=(a("7514"),a("ac6a"),a("e814")),ne=a.n(ae),ie=a("cebc"),re={getDestinations:function(t){return g.get("/users/".concat(t,"/destinations"))},getDestination:function(t,e){return g.get("/users/".concat(t,"/destinations/").concat(e))},createDestination:function(t,e){return g.post("/users/".concat(t,"/destinations"),e)},updateDestination:function(t,e,a){return g.put("/users/".concat(t,"/destinations/").concat(e),a)},makePublic:function(t){return g.put("/destinations/".concat(t,"/make_public"))},makePrivate:function(t){return g.put("/destinations/".concat(t,"/make_private"))},deleteDestination:function(t,e){return g.put("/users/".concat(t,"/destinations/").concat(e,"/toggle_deleted"))},getEditRequests:function(){return g.get("/destinations/edit_requests")},denyEditRequest:function(t){return g.post("/destinations/edit_requests/".concat(t,"/deny"))},acceptEditRequest:function(t){return g.post("/destinations/edit_requests/".concat(t,"/accept"))},addDestinationEditRequest:function(t){return g.post("/destinations/edit_requests",t)}},se={createTrip:function(t){return g.post("/trips",t)},createTripForUser:function(t,e){return g.post("/users/"+e+"/trips",t)},getUserSingleTrip:function(t,e){return g.get("users/"+t+"/trips/"+e)},getTrips:function(){return g.get("/trips")},getUserTrips:function(t){return g.get("/travellers/"+t+"/trips")},getTrip:function(t,e){return g.get("/users/".concat(t,"/trips/").concat(e))},updateTrip:function(t,e,a){return g.put("/users/".concat(t,"/trips/").concat(e),a)},deleteTrip:function(t,e){return g.put("/users/".concat(t,"/trips/").concat(e,"/toggle_deleted"))}},oe={get:function(){return g.get("/nationalities")}},le={get:function(){return g.get("/traveller-types")}},ce={auth:b,profile:y,destination:re,trip:se,personalPhoto:void 0,user:k,nationality:oe,travellerType:le},ue={get:function(t){return ce[t]}},de=a("1980"),pe=a.n(de),fe=(a("c5f6"),{nameRules:[function(t){return!!t||"This field is required"},function(t){return t&&t.length<=60||"This field is too long"}],numberRules:[function(t){return!!t||"This field is required"},function(t){return t&&(me(t)||ge(t))||"This field must be a numeric value"}]}),ve=function(t){for(var e=!0,a=0;a<t.length;a++)a+1<t.length&&t[a].title===t[a+1].title&&(e=!1),a-1>=0&&t[a].title===t[a-1].title&&(e=!1);return[e||"Cannot have same destination consecutive"]},he=function(t){for(var e=!0,a=0;a<t.length;a++)w()(t[a].arrivalDate).isAfter(w()(t[a].departureDate))&&(e=!1);return[e||"Arrival time must be before departure"]};function me(t){return Number(t)===t&&t%1===0}function ge(t){return Number(t)===t&&t%1!==0}var be,ye,ke=a("d225"),xe=a("b0b4"),_e=a("bd86"),we=function t(){var e=this;Object(ke["a"])(this,t),Object(_e["a"])(this,"flush",function(){e.stack=[],e.pointer=-1}),Object(_e["a"])(this,"undo",function(){if(e.canUndo()){var t=e.stack[e.pointer].reaction;return e.pointer-=1,t}}),Object(_e["a"])(this,"redo",function(){if(e.canRedo())return e.pointer+=1,e.stack[e.pointer].action}),Object(_e["a"])(this,"canUndo",function(){return-1!==e.pointer}),Object(_e["a"])(this,"canRedo",function(){return e.pointer+1!==e.stack.length}),Object(_e["a"])(this,"push",function(t){e.pointer+=1,e.stack=e.stack.slice(0,e.pointer),e.stack.push(t)}),this.stack=[],this.pointer=-1},Te=function(){function t(){Object(ke["a"])(this,t)}return Object(xe["a"])(t,[{key:"putActionReaction",value:function(t,e){return{action:function(){return g.put(t.url,t.body)},reaction:function(){return g.put(e.url,e.body)}}}},{key:"postDeleteActionReaction",value:function(t,e){return{action:function(){return g.put(t.url)},reaction:function(){return g.put(e.url)}}}}]),t}(),De={POST:"POST",PUT:"PUT",DELETE:"DELETE"},Ce=function(){function t(){Object(ke["a"])(this,t),this.stack=new we,this.rollbackWorker=new Te}return Object(xe["a"])(t,[{key:"checkpoint",value:function(t,e,a){var n;switch(t){case De.POST:n=this.rollbackWorker.postDeleteActionReaction(e,a);break;case De.PUT:n=this.rollbackWorker.putActionReaction(e,a);break;case De.DELETE:n=this.rollbackWorker.postDeleteActionReaction(e,a);break;default:return}this.stack.push(n)}},{key:"undo",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.stack.undo(),t.next=3,e();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"redo",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.stack.redo(),t.next=3,e();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"canUndo",value:function(){return this.stack.canUndo()}},{key:"canRedo",value:function(){return this.stack.canRedo()}},{key:"flush",value:function(){return this.stack.flush()}}]),t}(),Ve={data:function(){return{rollbackManager:void 0,rollbackPreviousBody:{}}},created:function(){this.rollbackManager=new Ce},methods:{rollbackCheckpoint:function(t,e,a){this.rollbackManager.checkpoint(t,e,a)},rollbackSetPreviousBody:function(t){this.rollbackPreviousBody=Object(ie["a"])({},t)},rollbackUndo:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,n,i,r,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.rollbackManager.undo();case 2:for(a=!0,n=!1,i=void 0,t.prev=5,r=kt()(e);!(a=(s=r.next()).done);a=!0)o=s.value,o();t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](5),n=!0,i=t.t0;case 13:t.prev=13,t.prev=14,a||null==r.return||r.return();case 16:if(t.prev=16,!n){t.next=19;break}throw i;case 19:return t.finish(16);case 20:return t.finish(13);case 21:case"end":return t.stop()}},t,this,[[5,9,13,21],[14,,16,20]])}));function e(e){return t.apply(this,arguments)}return e}(),rollbackRedo:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,n,i,r,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.rollbackManager.redo();case 2:for(a=!0,n=!1,i=void 0,t.prev=5,r=kt()(e);!(a=(s=r.next()).done);a=!0)o=s.value,o();t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](5),n=!0,i=t.t0;case 13:t.prev=13,t.prev=14,a||null==r.return||r.return();case 16:if(t.prev=16,!n){t.next=19;break}throw i;case 19:return t.finish(16);case 20:return t.finish(13);case 21:case"end":return t.stop()}},t,this,[[5,9,13,21],[14,,16,20]])}));function e(e){return t.apply(this,arguments)}return e}(),rollbackCanUndo:function(){return this.rollbackManager.canUndo()},rollbackCanRedo:function(){return this.rollbackManager.canRedo()},rollbackFlush:function(){return this.rollbackManager.flush()}}},je=Ve,Pe=Object(U["a"])(je,be,ye,!1,null,null,null),Ue=Pe.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",flat:"",disabled:!t.canUndo},on:{click:t.undo}},[a("v-icon",{attrs:{dark:""}},[t._v("undo")])],1),a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",flat:"",disabled:!t.canRedo},on:{click:t.redo}},[a("v-icon",{attrs:{dark:""}},[t._v("redo")])],1)],1)},Ae=[],Se={props:{canUndo:Boolean,canRedo:Boolean,undo:Function,redo:Function},mounted:function(){window.addEventListener("keyup",function(t){90==t.keyCode&&t.ctrlKey&&this.undo()}.bind(this)),window.addEventListener("keyup",function(t){89==t.keyCode&&t.ctrlKey&&this.redo()}.bind(this))}},Oe=Se,Re=Object(U["a"])(Oe,Ie,Ae,!1,null,null,null),$e=Re.exports;A()(Re,{VBtn:X["a"],VIcon:$["a"]});var Ee=ue.get("trip"),Fe=ue.get("destination"),Me={store:V,mixins:[Ue],components:{UndoRedoButtons:$e,draggable:pe.a},props:{toggleShowCreateTrip:Function,regetTrips:Function,passedTrip:String,updateViewTripPage:Function},data:function(){return Object(ie["a"])({userId:this.$route.params.user_id?this.$route.params.user_id:this.$route.params.id,tripToDisplay:null,draggableEnabled:!0,dialogName:"Create a new trip",trip:{name:"",destinations:[{title:null,arrivalDate:null,departureDate:null,arrivalDateMenu:!1,departureDateMenu:!1},{title:null,arrivalDate:null,departureDate:null,arrivalDateMenu:!1,departureDateMenu:!1}]},userDestinations:[]},fe,{id:this.$route.params.id,tripID:this.$route.params.trip_id,isAdminUser:!1,isMyProfile:!1})},computed:{noSameDestinationNameConsecutiveRule:function(){return ve(this.trip.destinations)},arrivalBeforeDepartureAndDestinationsOneAfterTheOther:function(){return he(this.trip.destinations)}},methods:{getDestinations:function(){var t=this;return Fe.getDestinations(this.id).then(function(e){t.userDestinations=e.data}).catch(function(t){console.log(t)})},checkIfProfileOwner:function(){this.id=this.$route.params.id,this.isMyProfile=V.getters.getUser.id==this.id},resetValues:function(){this.$refs.form.reset()},resetDestinationDate:function(t){var e=this.trip.destinations;e[t].arrivalDate=null,e[t].departureDate=null,this.trip.destinations=e},deleteDestination:function(t){var e=this.trip.destinations;e.splice(t,1),this.trip.destinations=e},addDestinationToTrip:function(){var t={name:null,arrivalDate:null,departureDate:null,arrivalDateMenu:!1,departureDateMenu:!1},e=this.trip.destinations;e.push(t),this.trip.destinations=e},onConfirm:function(){null===this.passedTrip?this.createTrip():this.updateTrip()},createTrip:function(){var t=this;if(this.$refs.form.validate()){var e=this.tripAssembler();this.isAdminUser?Ee.createTripForUser(e,this.id).then(function(){t.regetTrips()}).catch(function(t){console.log(t)}):Ee.createTrip(e).then(function(){t.regetTrips()}).catch(function(t){console.log(t)})}},updateTrip:function(){var t=this;if(this.$refs.form.validate()){var e=this.tripAssembler();Ee.updateTrip(this.id,ne()(this.passedTrip),e).then(function(){var a="/users/".concat(t.id,"/trips/").concat(ne()(t.passedTrip));t.rollbackCheckpoint("PUT",{url:a,body:e},{url:a,body:t.rollbackPreviousBody}),t.rollbackSetPreviousBody(Object(ie["a"])({},e)),t.updateViewTripPage()}).catch(function(t){console.log(t)})}},tripAssembler:function(){var t=this,e={name:this.trip.name,destinations:[]};return this.trip.destinations.forEach(function(a,n){var i=t.userDestinations.find(function(t){return a.title===t.name});e.destinations.push({id:i.id,ordinal:n,arrivalDate:w()(a.arrivalDate).unix(),departureDate:w()(a.departureDate).unix()})}),e},undo:function(){var t=[this.getTrip];this.rollbackUndo(t)},redo:function(){var t=[this.getTrip];this.rollbackRedo(t)},setTrip:function(t,e){var a=t.data;e.name=a.name;for(var n=0;n<a.destinations.length;n++){var i={},r=a.destinations[n];i.title=r.name,i.arrivalDate=null===r.arrivalDate?null:w.a.unix(r.arrivalDate).format("YYYY-MM-DD"),i.departureDate=null===r.departureDate?null:w.a.unix(r.departureDate).format("YYYY-MM-DD"),i.arrivalDateMenu=!1,i.departureDateMenu=!1,e.destinations.push(i)}return e},getTrip:function(){var t=this,e={name:"",destinations:[]};return Ee.getTrip(this.id,this.passedTrip).then(function(a){var n=t.setTrip(a,e);return t.trip=n,n})}},mounted:function(){var t=this;this.getDestinations(this.userId).then(function(){if(null!==t.passedTrip)return t.dialogName="Edit current trip",t.getTrip()}).then(function(){t.rollbackSetPreviousBody(t.tripAssembler())})},created:function(){this.checkIfProfileOwner(),this.isAdminUser=V.getters.getIsUserAdmin}},Be=Me,Le=(a("afde"),a("2b5d")),Ne=a("2e4b"),qe=a("4bd4"),ze=a("e449"),Ye=a("2677"),Ge=Object(U["a"])(Be,te,ee,!1,null,null,null),Ze=Ge.exports;A()(Ge,{VBtn:X["a"],VCard:ft["a"],VCombobox:Le["a"],VDatePicker:Ne["a"],VFlex:K["a"],VForm:qe["a"],VIcon:$["a"],VLayout:tt["a"],VMenu:ze["a"],VTextField:Ye["a"],VTooltip:mt["a"]});var Je=ue.get("trip"),Qe={store:V,mixins:[Ue],data:function(){return{showCreateTrip:!1,searchValue:"",trips:[],isAdmin:V.getters.getIsUserAdmin,isMyProfile:!1,isAdminUser:!1,user_id:this.$route.params.id,searchActive:!1,undoRedoError:!1}},computed:{tripsFiltered:function(){var t=this,e=this.trips.filter(function(e){return-1!==e.name.toLowerCase().search(t.searchValue.toLowerCase())});return e.sort(function(t,e){return t.id-e.id})}},components:{UndoRedoButtons:$e,CreateTrip:Ze},methods:{clearAlerts:function(){this.undoRedoError=!1},getTrips:function(){var t=this;Je.getUserTrips(this.user_id).then(function(e){t.trips=e.data}).catch(function(t){console.log(t)})},toggleShowSearch:function(){this.searchActive=!this.searchActive},getUserTrips:function(){var t=this;Je.getUserTrips(this.user_id).then(function(e){t.trips=e.data}).catch(function(t){console.log(t)})},openTrip:function(t){var e="/user/".concat(this.user_id,"/trips/");(this.isMyProfile||V.getters.getIsUserAdmin)&&(e="/user/".concat(this.user_id,"/trips/").concat(t)),this.$router.push(e)},toggleShowCreateTrip:function(){this.showCreateTrip=!this.showCreateTrip},deleteTrip:function(t){var e=this;this.clearAlerts(),Je.deleteTrip(this.user_id,t).then(function(){var a="/users/".concat(e.user_id,"/trips/").concat(t,"/toggle_deleted");e.rollbackCheckpoint("DELETE",{url:a},{url:a}),e.getUserTrips()})},regetTrips:function(){this.toggleShowCreateTrip(),this.isMyProfile?this.getTrips():this.getUserTrips()},checkIfProfileOwner:function(){var t=this.$route.params.id;this.isMyProfile=V.getters.getUser.id==t},undo:function(){var t=[this.getUserTrips,this.clearAlerts];try{this.rollbackUndo(t)}catch(e){this.undoRedoError=!0}},redo:function(){var t=[this.getUserTrips,this.clearAlerts];try{this.rollbackRedo(t)}catch(e){this.undoRedoError=!0}}},created:function(){this.checkIfProfileOwner(),this.isAdminUser=V.getters.getIsUserAdmin,this.isMyProfile?this.getTrips():this.getUserTrips()}},We=Qe,He=(a("e17d"),Object(U["a"])(We,Xt,Kt,!1,null,null,null)),Xe=He.exports;A()(He,{VAlert:Ft["a"],VBtn:X["a"],VCard:ft["a"],VContainer:O["a"],VDivider:ht["a"],VFlex:K["a"],VIcon:$["a"],VTextField:Ye["a"]});var Ke={name:"Profile",data:function(){return{}},components:{Trips:Xe},methods:{}},ta=Ke,ea=(a("5223"),Object(U["a"])(ta,Wt,Ht,!1,null,null,null)),aa=ea.exports;A()(ea,{VCard:ft["a"]});var na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm5:"",md9:""}},[a("userTable")],1),a("v-flex",{attrs:{xs12:"",sm5:"",md3:""}},[a("searchFilter")],1)],1)],1)},ia=[],ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("undo-redo-buttons",{attrs:{canRedo:t.rollbackCanRedo(),canUndo:t.rollbackCanUndo(),undo:t.undo,redo:t.redo}}),a("v-card-title",[t._v("\n    Profiles\n    "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{attrs:{headers:t.getColumns,items:t.users,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-right",on:{click:function(a){return t.goToUser(e.item.id)}}},[t._v(t._s(e.item.firstName))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.lastName))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.dateOfBirth))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.gender))]),a("td",[a("ul",{staticStyle:{"list-style-type":"none"}},t._l(e.item.nationalities,function(e,n){return a("li",{key:n},[t._v("\n                        "+t._s(e.name)+" "),a("br")])}),0)]),a("td",[a("ul",{staticStyle:{"list-style-type":"none"}},t._l(e.item.travellerTypes,function(e,n){return a("li",{key:n},[t._v("\n                        "+t._s(e.name)+" "),a("br")])}),0)]),t.isAdmin?a("td",{staticClass:"text-xs-right"},[a("v-btn",{attrs:{flat:"",icon:"",color:"red lighten-2"},on:{click:function(a){return t.deleteUser(e.item.id)}}},[a("v-icon",[t._v("delete")])],1)],1):t._e()]}}])}),a("v-alert",{attrs:{value:t.isError,type:"error"}},[t._v("Cannot delete yourself or the global admin")])],1)},sa=[],oa={mixins:[Ue],components:{UndoRedoButtons:$e},data:function(){return{search:"",isAdmin:!1,isError:!1}},computed:{users:function(){return this.$store.state.users.users},getColumns:function(){var t=[{text:"First Name",value:"firstName",align:"left",sortable:!0},{text:"Last Name",value:"lastName",align:"left",sortable:!0},{text:"DOB",value:"dateOfBirth",align:"left",sortable:!0},{text:"Gender",value:"gender",align:"left",sortable:!0},{text:"Nationalities",value:"nationalities",align:"left",sortable:!0},{text:"Traveller Types",value:"types",align:"left",sortable:!0}];return this.isAdmin&&t.push({text:"Delete",align:"left",sortable:!1}),t}},methods:{getUsers:function(){this.$store.dispatch("getUsers",!1).then(function(){}).catch(function(t){console.error(t)})},deleteUser:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isError=!1,t.prev=1,t.next=4,this.$store.dispatch("toggleUserDeleted",e);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t["catch"](1),this.isError=!0,console.error(t.t0),t.abrupt("return");case 11:a="/travellers/".concat(e,"/toggle_deleted"),this.rollbackCheckpoint("DELETE",{url:a},{url:a}),this.getUsers();case 14:case"end":return t.stop()}},t,this,[[1,6]])}));function e(e){return t.apply(this,arguments)}return e}(),goToUser:function(t){var e="/user/"+t;this.$router.push(e)},undo:function(){this.isError=!1;var t=[this.getUsers];this.rollbackUndo(t)},redo:function(){this.isError=!1;var t=[this.getUsers];this.rollbackRedo(t)}},created:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getUsers",!1);case 2:this.$store.getters.getIsUserAdmin&&(this.isAdmin=!0);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},la=oa,ca=a("8fea"),ua=a("9910"),da=Object(U["a"])(la,ra,sa,!1,null,null,null),pa=da.exports;A()(da,{VAlert:Ft["a"],VBtn:X["a"],VCard:ft["a"],VCardTitle:Bt["a"],VDataTable:ca["a"],VIcon:$["a"],VSpacer:ua["a"],VTextField:Ye["a"]});var fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-form",[a("v-layout",{staticClass:"side-filter",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"First Name"},model:{value:t.search_params.firstName,callback:function(e){t.$set(t.search_params,"firstName",e)},expression:"search_params.firstName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Last Name"},model:{value:t.search_params.lastName,callback:function(e){t.$set(t.search_params,"lastName",e)},expression:"search_params.lastName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Min Age",type:"number"},model:{value:t.search_params.minAge,callback:function(e){t.$set(t.search_params,"minAge",t._n(e))},expression:"search_params.minAge"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Max Age",type:"number"},model:{value:t.search_params.maxAge,callback:function(e){t.$set(t.search_params,"maxAge",t._n(e))},expression:"search_params.maxAge"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:["Male","Female"],chips:"",attach:"",label:"Gender"},model:{value:t.search_params.gender,callback:function(e){t.$set(t.search_params,"gender",e)},expression:"search_params.gender"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.nationalities,attach:"",chips:"",multiple:"",label:"Nationality"},model:{value:t.search_params.nationality,callback:function(e){t.$set(t.search_params,"nationality",e)},expression:"search_params.nationality"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.travellerTypes,attach:"",chips:"",multiple:"",label:"Traveller Type"},model:{value:t.search_params.travellerType,callback:function(e){t.$set(t.search_params,"travellerType",e)},expression:"search_params.travellerType"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:["Nationality","Traveller Type"],attach:"",chips:"",label:"Order By"},model:{value:t.search_params.orderBy,callback:function(e){t.$set(t.search_params,"orderBy",e)},expression:"search_params.orderBy"}})],1),a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm12:"",md12:""}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.searchUsers}},[t._v("Search")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.resetSearch}},[t._v("Reset")])],1)],1)],1)],1)},va=[],ha={store:V,data:function(){return{ageRules:[function(t){return t>=0||t<=150||"Age must be positive and less than 150"}],search_params:{firstName:"",lastName:"",gender:"",minAge:"",maxAge:"",nationality:[],travellerType:[],orderBy:""}}},methods:{searchUsers:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V.dispatch("getUsers",this.search_params);case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),resetSearch:function(){this.search_params.firstName="",this.search_params.lastName="",this.search_params.gender="",this.search_params.minAge="",this.search_params.maxAge="",this.search_params.nationality=[],this.search_params.travellerType=[],this.search_params.orderBy="",this.searchUsers()}},computed:{nationalities:function(){return V.state.users.nationalities},travellerTypes:function(){return V.state.users.travellerTypes}},created:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V.dispatch("getAllTravellerTypes");case 2:return t.next=4,V.dispatch("getAllNationalities");case 4:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},ma=ha,ga=(a("619f"),a("b56d")),ba=Object(U["a"])(ma,fa,va,!1,null,null,null),ya=ba.exports;A()(ba,{VBtn:X["a"],VCard:ft["a"],VFlex:K["a"],VForm:qe["a"],VLayout:tt["a"],VSelect:ga["a"],VTextField:Ye["a"]});var ka={data:function(){return{}},components:{userTable:pa,searchFilter:ya}},xa=ka,_a=Object(U["a"])(xa,na,ia,!1,null,null,null),wa=_a.exports;A()(_a,{VContainer:O["a"],VFlex:K["a"],VLayout:tt["a"]});var Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[a("v-flex",{attrs:{lg6:"","offset-lg3":"",sm8:"","offset-sm2":"","text-xs-center":""}},[a("v-card",{staticClass:"signup-card"},[a("TravellerForm",{attrs:{fname:t.traveller.firstName,mname:t.traveller.middleName,lname:t.traveller.lastName,dob:t.dateOfBirth,gender:t.traveller.gender,types:t.traveller.travellerTypes,nationalities:t.nationalities,passports:t.passports},on:{"update:fname":function(e){return t.$set(t.traveller,"firstName",e)},"update:mname":function(e){return t.$set(t.traveller,"middleName",e)},"update:lname":function(e){return t.$set(t.traveller,"lastName",e)},"update:dob":function(e){t.dateOfBirth=e},"update:gender":function(e){return t.$set(t.traveller,"gender",e)},"update:types":function(e){return t.$set(t.traveller,"travellerTypes",e)},"update:nationalities":function(e){t.nationalities=e},"update:passports":function(e){t.passports=e}}}),a("SignupFields",{attrs:{email:t.traveller.email,password:t.traveller.password,confirmPassword:t.confirmPassword},on:{"update:email":function(e){return t.$set(t.traveller,"email",e)},"update:password":function(e){return t.$set(t.traveller,"password",e)},"update:confirmPassword":function(e){t.confirmPassword=e},"update:confirm-password":function(e){t.confirmPassword=e}}}),a("v-btn",{attrs:{disabled:!t.isValid,color:"primary"},on:{click:t.handleSignup}},[t._v("\n                Sign Up\n            ")])],1),a("v-alert",{staticClass:"email-alert",attrs:{value:t.emailAlert,color:"error"}},[t._v("Email already taken")])],1)],1)},Da=[],Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":"",fluid:"","ma-0":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-text-field",{attrs:{label:"First Name",value:t.fname,rules:t.rules.required,maxlength:"50"},on:{input:function(e){return t.$emit("update:fname",e)}}})],1),a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-text-field",{attrs:{label:"Middle Name",value:t.mname,maxlength:"50"},on:{input:function(e){return t.$emit("update:mname",e)}}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-text-field",{attrs:{label:"Last Name",value:t.lname,rules:t.rules.required,maxlength:"50"},on:{input:function(e){return t.$emit("update:lname",e)}}})],1),a("v-flex",{attrs:{sm6:"",xs12:""}},[a("Datepicker",{attrs:{dob:t.dob},on:{updateDob:t.updateDob}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-select",{attrs:{label:"Gender",items:t.genderList,value:t.gender,rules:t.rules.required},on:{input:function(e){return t.$emit("update:gender",e)}}})],1),a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-select",{attrs:{label:"Traveller Types",items:t.typeList,"item-text":"name","item-value":"id",value:t.types,rules:t.rules.required,attach:"",multiple:""},on:{input:function(e){return t.$emit("update:types",e)}}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-select",{attrs:{label:"Nationality",items:t.nationalityList,"item-text":"name",returnObject:!0,value:t.nationalities,rules:t.rules.required,attach:"",multiple:""},on:{input:function(e){return t.$emit("update:nationalities",e)}}})],1),a("v-flex",{attrs:{sm6:"",xs12:""}},[a("v-select",{attrs:{label:"Passport",items:t.nationalities,"item-text":"name","item-value":"id",value:t.passports,attach:"",multiple:""},on:{input:function(e){return t.$emit("update:passports",e)}}})],1)],1)],1)},Va=[],ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"Date of Birth",value:t.dob,rules:t.rules.required,readonly:""},on:{input:function(e){return t.$emit("update:dob",e)}}},n))]}}]),model:{value:t.dob_menu,callback:function(e){t.dob_menu=e},expression:"dob_menu"}},[a("v-date-picker",{attrs:{value:t.dob,rules:t.rules.required,max:this.current_date},on:{input:function(e){t.$emit("updateDob",e),t.dob_menu=!1}}})],1)},Pa=[],Ua={required:[function(t){return""!=t||"Required"},function(t){return void 0!=t||"Required"}]},Ia=Ua,Aa={name:"Datepicker",props:["dob"],data:function(){return{current_date:(new Date).toISOString().substr(0,10),rules:Ia,dob_menu:null}}},Sa=Aa,Oa=Object(U["a"])(Sa,ja,Pa,!1,null,null,null),Ra=Oa.exports;A()(Oa,{VDatePicker:Ne["a"],VMenu:ze["a"],VTextField:Ye["a"]});var $a={nationalities:function(){return g.get("/nationalities")},travellerTypes:function(){return g.get("/traveller-types")}},Ea={name:"TravellerForm",components:{Datepicker:Ra},props:["fname","mname","lname","dob","gender","types","nationalities","passports"],data:function(){return{rules:Ia,genderList:["Male","Female","Other"],typeList:[],nationalityList:[]}},mounted:function(){this.populateSelects()},methods:{populateSelects:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$a.nationalities();case 2:return e=t.sent,this.nationalityList=e.data,t.next=6,$a.travellerTypes();case 6:a=t.sent,this.typeList=a.data;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),updateDob:function(t){this.$emit("update:dob",t)}}},Fa=Ea,Ma=Object(U["a"])(Fa,Ca,Va,!1,null,null,null),Ba=Ma.exports;A()(Ma,{VContainer:O["a"],VFlex:K["a"],VLayout:tt["a"],VSelect:ga["a"],VTextField:Ye["a"]});var La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":"",fluid:"","ma-0":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{label:"Email",value:t.email,rules:t.rules.emailCheck,maxlength:"50"},on:{input:function(e){return t.$emit("update:email",e)}}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{label:"Password",type:"password",value:t.password,rules:t.rules.required,maxlength:"50"},on:{input:function(e){return t.$emit("update:password",e)}}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{label:"Confirm Password",type:"password",value:t.confirmPassword,rules:t.rules.confirmPassCheck,maxlength:"50"},on:{input:function(e){return t.$emit("update:confirmPassword",e)}}})],1)],1)],1)},Na=[],qa={name:"SignupFields",props:["email","password","confirmPassword"],data:function(){return{rules:Ia}},mounted:function(){this.addConfirmPassRule(),this.addEmailRule()},methods:{addConfirmPassRule:function(){var t=this;this.$set(this.rules,"confirmPassCheck",this.rules.required.concat([function(){return t.password===t.confirmPassword||"Passwords must match"}]))},addEmailRule:function(){var t=this,e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.$set(this.rules,"emailCheck",this.rules.required.concat([function(){return e.test(t.email)||"Must be in email format"}]))}}},za=qa,Ya=Object(U["a"])(za,La,Na,!1,null,null,null),Ga=Ya.exports;A()(Ya,{VContainer:O["a"],VFlex:K["a"],VLayout:tt["a"],VTextField:Ye["a"]});var Za={name:"Signup",components:{TravellerForm:Ba,SignupFields:Ga},store:V,data:function(){return{isValid:!1,emailAlert:!1,traveller:{},dateOfBirth:"",nationalities:[],passports:[],confirmPassword:""}},methods:{setTraveller:function(){this.$set(this.traveller,"nationalities",_t.convertToNationalitiesReq(this.nationalities,this.passports)),this.$set(this.traveller,"dateOfBirth",D.convertStringToTimestamp(this.dateOfBirth))},handleSignup:function(){var t=this;this.$refs.form.validate()&&(this.setTraveller(),V.dispatch("signup",this.traveller).then(function(){var e={email:t.traveller.email,password:t.traveller.password};return V.dispatch("login",e)}).then(function(){t.$router.push("/")}).catch(function(e){console.log(e),t.emailAlert=!0}))}}},Ja=Za,Qa=(a("f093"),Object(U["a"])(Ja,Ta,Da,!1,null,null,null)),Wa=Qa.exports;A()(Qa,{VAlert:Ft["a"],VBtn:X["a"],VCard:ft["a"],VFlex:K["a"],VForm:qe["a"]});var Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-container",{staticClass:"outer-container",staticStyle:{"margin-left":"0px","margin-top":"-20px"},attrs:{height:"100%"}},[a("div",{staticClass:"section"},[a("div",{staticClass:"dest-name"},[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{dark:""}},[t._v("keyboard_arrow_left")])],1),a("undo-redo-buttons",{attrs:{canRedo:t.rollbackCanRedo(),canUndo:t.rollbackCanUndo(),undo:t.undo,redo:t.redo}}),a("h2",{staticClass:"headline"},[t._v("Destinations")])],1),a("div",[t.isMyProfile||t.isAdminUser?a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:t.toggleShowCreateDestination}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1):t._e(),a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:t.toggleShowSearch}},[a("v-icon",{attrs:{dark:""}},[t._v("search")])],1)],1)]),a("v-divider",{staticClass:"photo-header-divider"}),t.searchActive?a("v-text-field",{attrs:{label:"Trip name","prepend-icon":"search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}):t._e(),a("v-tabs",{attrs:{"slider-color":"blue"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("v-tab",{key:1,attrs:{ripple:""}},[t._v("Browse")]),a("v-tab-item",{key:1},t._l(t.destinationsFiltered,function(e){return a("li",{key:e.value,staticClass:"destination-list-element",attrs:{value:e.value}},[a("v-card",{staticClass:"top-destination-content destination-container"},[a("div",{staticClass:"row-container"},[a("div",{staticClass:"private-public-side-bar side-border",class:{"blue-background":e.isPublic,"pink-background":!e.isPublic}}),a("div",{staticClass:"hoverable destination-container",on:{click:function(a){return t.viewDestination(e.id)}}},[a("h2",[t._v(t._s(e.name)+" | "+t._s(e.country)+" | "+t._s(e.district))]),a("div",{staticClass:"row-container"},[a("h3",[t._v("Lat: "+t._s(e.latitude)+" | Lng: "+t._s(e.longitude))])]),a("div",{staticClass:"row-container"},[a("h3",[t._v("Type: "+t._s(e.type))])]),a("div",{staticClass:"row-container"},[a("h3",[t._v("Traveller Types:")]),t._l(e.travellerTypes,function(e){return a("v-list",{key:e.id,attrs:{value:e.id}},[a("v-chip",{attrs:{small:""}},[t._v(t._s(e.name))])],1)})],2)])]),a("div",[(t.isMyProfile||t.isAdminUser)&&e.ownerId===parseInt(t.userId)?a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.deleteDestination(e.id)}}},[a("v-icon",{attrs:{color:"red lighten-1"}},[t._v("delete")])],1):t._e(),(t.isMyProfile||t.isAdminUser)&&e.ownerId===parseInt(t.userId)?a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.editDestination(e.id)}}},[a("v-icon",{attrs:{color:"orange lighten-1"}},[t._v("edit")])],1):t._e(),e.isPublic?t._e():a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.makePublic(e.id)}}},[a("v-icon",{attrs:{color:"blue lighten-1"}},[t._v("lock")])],1),e.isPublic&&e.ownerId===parseInt(t.userId)?a("v-btn",{attrs:{color:"#FF69B4",flat:"",icon:""},on:{click:function(a){return t.makePrivate(e.id)}}},[a("v-icon",{attrs:{color:"hotpink lighten-1"}},[t._v("lock_open")])],1):t._e()],1)])],1)}),0)],1),a("v-dialog",{attrs:{width:"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("destination-create",{attrs:{createDestinationCallback:t.updateDestinationList}})],1)],1),a("v-alert",{attrs:{value:t.undoRedoError,type:"error"}},[t._v("Cannot undo or redo")]),a("v-alert",{attrs:{value:t.setPrivateError,type:"error"}},[t._v("Cannot set destination private")])],1)},Xa=[],Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{white:"","justify-space-around":""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-container",{attrs:{"grid-list-xl":""}},[a("h4",[t._v("Create new destination")]),a("v-layout",{attrs:{"justify-space-around":""}},[a("v-flex",{staticClass:"row-input-margin",attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{counter:60,label:"Destination Name",required:"",rules:t.nameRules},model:{value:t.destination.name,callback:function(e){t.$set(t.destination,"name",e)},expression:"destination.name"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{counter:60,rules:t.nameRules,label:"Destination Type",required:""},model:{value:t.destination.type,callback:function(e){t.$set(t.destination,"type",e)},expression:"destination.type"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",md12:""}},[a("v-select",{attrs:{label:"Associated Traveller Types",items:t.typeList,"item-text":"name",attach:"",multiple:"","return-object":""},model:{value:t.destination.travellerTypes,callback:function(e){t.$set(t.destination,"travellerTypes",e)},expression:"destination.travellerTypes"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{counter:60,rules:t.nameRules,label:"Destination District",required:""},model:{value:t.destination.district,callback:function(e){t.$set(t.destination,"district",e)},expression:"destination.district"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{counter:60,label:"Country",required:"",rules:t.nameRules},model:{value:t.destination.country,callback:function(e){t.$set(t.destination,"country",e)},expression:"destination.country"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{type:"number",rules:t.numberRules,label:"Latitude",required:""},model:{value:t.destination.latitude,callback:function(e){t.$set(t.destination,"latitude",t._n(e))},expression:"destination.latitude"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{type:"number",rules:t.numberRules,label:"Longitude",required:""},model:{value:t.destination.longitude,callback:function(e){t.$set(t.destination,"longitude",t._n(e))},expression:"destination.longitude"}})],1)],1),a("v-layout",{attrs:{"justify-space-around":""}},[a("v-btn",{attrs:{color:"red"},on:{click:t.resetValues}},[t._v("RESET VALUES")]),a("v-btn",{on:{click:t.createDestination}},[t._v("CREATE DESTINATION")])],1),a("v-alert",{attrs:{value:t.isError,type:"error"}},[t._v("\n      This destination is already available to you\n    ")])],1)],1)],1)},tn=[],en=ue.get("destination"),an={props:{createDestinationCallback:Function,prefillData:Object},data:function(){return Object(ie["a"])({destination:{},userId:this.$route.params.id,isError:!1,typeList:[]},fe)},mounted:function(){this.populateSelects()},methods:{populateSelects:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$a.travellerTypes();case 2:e=t.sent,this.typeList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createDestination:function(){var t=this;this.$refs.form.validate()&&en.createDestination(this.userId,this.destination).then(function(){t.$refs.form.reset(),t.isError=!1,t.$emit("close-map-info-window"),t.createDestinationCallback()}).catch(function(e){console.log(e),t.isError=!0,console.log("error creating destination")})},resetValues:function(){this.$refs.form.reset()}},created:function(){this.prefillData&&(this.destination=this.prefillData)}},nn=an,rn=Object(U["a"])(nn,Ka,tn,!1,null,null,null),sn=rn.exports;A()(rn,{VAlert:Ft["a"],VBtn:X["a"],VContainer:O["a"],VFlex:K["a"],VForm:qe["a"],VLayout:tt["a"],VSelect:ga["a"],VTextField:Ye["a"]});var on=ue.get("destination"),ln={store:V,mixins:[Ue],components:{UndoRedoButtons:$e,DestinationCreate:sn},data:function(){return{dialog:!1,showEditDestination:!1,destinations:[],isMyProfile:!1,ownerId:null,active:null,showTooltip:!1,filteredList:[],searchValue:"",searchActive:!1,undoRedoError:!1,setPrivateError:!1}},watch:{"$route.params.id":function(){this.init()}},computed:{destinationsFiltered:function(){var t=this,e=this.destinations.filter(function(e){return-1!==e.name.toLowerCase().search(t.searchValue.toLowerCase())});return e.sort(function(t,e){return t.id-e.id})}},methods:{init:function(){this.checkIfProfileOwner(),this.getDestinationList()},clearAlerts:function(){this.undoRedoError=!1,this.setPrivateError=!1},editDestination:function(t){this.$router.push("/user/"+this.userId+"/destinations/edit/"+t)},viewDestination:function(t){this.$router.push("/user/"+this.userId+"/destinations/"+t)},toggleShowCreateDestination:function(){this.dialog=!this.dialog},toggleShowSearch:function(){this.searchActive=!this.searchActive},deleteDestination:function(t){var e=this;this.clearAlerts(),on.deleteDestination(this.userId,t).then(function(){var a="/users/".concat(e.userId,"/destinations/").concat(t,"/toggle_deleted");e.rollbackCheckpoint("DELETE",{url:a},{url:a}),e.getDestinationList()})},updateDestinationList:function(t){this.clearAlerts();var e="/users/".concat(this.userId,"/destinations/").concat(t,"/toggle_deleted");this.rollbackCheckpoint("POST",{url:e},{url:e}),this.getDestinationList(),this.dialog=!1},getDestinationList:function(){var t=this;on.getDestinations(this.userId).then(function(e){t.destinations=e.data}).catch(function(t){console.log(t)})},makePublic:function(t){var e=this;this.clearAlerts(),on.makePublic(t).then(function(a){e.rollbackCheckpoint("POST",{url:"/destinations/".concat(t,"/make_public")},{url:"/destinations/".concat(t,"/make_private")}),e.init()}).catch(function(t){console.log(t)})},makePrivate:function(t){var e=this;this.clearAlerts(),on.makePrivate(t).then(function(a){e.rollbackCheckpoint("POST",{url:"destinations/".concat(t,"/make_private")},{url:"destinations/".concat(t,"/make_public")}),e.init()}).catch(function(t){console.log(t),e.setPrivateError=!0})},checkIfProfileOwner:function(){var t=this.$route.params.id;this.userId=t,this.isMyProfile=V.getters.getUser.id},log:function(t){window.console.log(t)},undo:function(){var t=[this.getDestinationList,this.clearAlerts];try{this.rollbackUndo(t)}catch(e){this.undoRedoError=!0}},redo:function(){var t=[this.getDestinationList,this.clearAlerts];try{this.rollbackRedo(t)}catch(e){this.undoRedoError=!0}}},created:function(){this.init()}},cn=ln,un=(a("9f30"),a("71a3")),dn=a("c671"),pn=a("fe57"),fn=Object(U["a"])(cn,Ha,Xa,!1,null,null,null),vn=fn.exports;A()(fn,{VAlert:Ft["a"],VBtn:X["a"],VCard:ft["a"],VChip:vt["a"],VContainer:O["a"],VDialog:Lt["a"],VDivider:ht["a"],VIcon:$["a"],VList:E["a"],VTab:un["a"],VTabItem:dn["a"],VTabs:pn["a"],VTextField:Ye["a"]});var hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("div",{staticClass:"outer-container"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("div",{staticClass:"container"},[a("div",{staticClass:"section"},[a("div",{staticClass:"dest-name"},[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{dark:""}},[t._v("keyboard_arrow_left")])],1),a("h2",{staticClass:"headline"},[t._v("Edit Destination")]),a("undo-redo-buttons",{attrs:{canRedo:t.rollbackCanRedo(),canUndo:t.rollbackCanUndo(),undo:t.undo,redo:t.redo}})],1)]),a("v-divider",{staticClass:"photo-header-divider"}),a("v-layout",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{rules:t.nameRules,counter:60,label:"Destination Name",required:""},model:{value:t.destination.name,callback:function(e){t.$set(t.destination,"name",e)},expression:"destination.name"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{rules:t.nameRules,counter:60,label:"Destination Type",required:""},model:{value:t.destination.type,callback:function(e){t.$set(t.destination,"type",e)},expression:"destination.type"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",md12:""}},[a("v-select",{attrs:{label:"Associated Traveller Types",items:t.typeList,"item-text":"name",attach:"",multiple:"","return-object":""},model:{value:t.destination.travellerTypes,callback:function(e){t.$set(t.destination,"travellerTypes",e)},expression:"destination.travellerTypes"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{rules:t.nameRules,counter:60,label:"Destination District",required:""},model:{value:t.destination.district,callback:function(e){t.$set(t.destination,"district",e)},expression:"destination.district"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{rules:t.nameRules,counter:60,label:"Country",required:""},model:{value:t.destination.country,callback:function(e){t.$set(t.destination,"country",e)},expression:"destination.country"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{rules:t.numberRules,label:"Latitude",required:""},model:{value:t.destination.latitude,callback:function(e){t.$set(t.destination,"latitude",t._n(e))},expression:"destination.latitude"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{rules:t.numberRules,label:"Longitude",required:""},model:{value:t.destination.longitude,callback:function(e){t.$set(t.destination,"longitude",t._n(e))},expression:"destination.longitude"}})],1)],1),a("div",{staticClass:"buttons-div"},[a("v-btn",{attrs:{color:"red"},on:{click:t.routeBackToPrevPage}},[t._v("CANCEL")]),a("v-btn",{on:{click:t.updateDestination}},[t._v("UPDATE DESTINATION")])],1)],1),a("v-alert",{attrs:{value:t.isError,type:"error"}},[t._v("This destination is already available to you")])],1)],1)])},mn=[],gn=ue.get("destination"),bn={mixins:[Ue],components:{UndoRedoButtons:$e},data:function(){return Object(ie["a"])({destination:{},isError:!1,typeList:[]},fe)},methods:{populateSelects:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$a.travellerTypes();case 2:e=t.sent,this.typeList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),setDestination:function(){var t=this;gn.getDestination(this.$route.params.id,this.$route.params.dest_id).then(function(e){t.destination=e.data,t.rollbackSetPreviousBody(e.data)})},updateDestination:function(){var t=this;if(this.$refs.form.validate()){var e=this.$route.params.id,a=this.$route.params.dest_id;gn.updateDestination(e,a,this.destination).then(function(){var n="/users/".concat(e,"/destinations/").concat(a);t.rollbackCheckpoint("PUT",{url:n,body:Object(ie["a"])({},t.destination)},{url:n,body:t.rollbackPreviousBody}),t.rollbackSetPreviousBody(t.destination),t.isError=!1}).catch(function(e){console.error(e),t.isError=!0})}},undo:function(){var t=[this.setDestination];this.rollbackUndo(t)},redo:function(){var t=[this.setDestination];this.rollbackRedo(t)},routeBackToPrevPage:function(){this.$router.go(-1)}},created:function(){this.populateSelects(),this.setDestination()}},yn=bn,kn=(a("f1aa"),Object(U["a"])(yn,hn,mn,!1,null,null,null)),xn=kn.exports;A()(kn,{VAlert:Ft["a"],VBtn:X["a"],VCard:ft["a"],VDivider:ht["a"],VFlex:K["a"],VForm:qe["a"],VIcon:$["a"],VLayout:tt["a"],VSelect:ga["a"],VTextField:Ye["a"]});var _n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"width-for-container"},[a("div",{staticClass:"form-container"},[a("h1",[t._v("Login")]),a("v-text-field",{ref:"email_input",attrs:{label:"Email"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goToPasswordInput(e)}},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("v-text-field",{ref:"password_input",attrs:{label:"Password",type:"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),a("v-btn",{staticClass:"login-button",attrs:{large:"",round:"",color:"primary"},on:{click:t.login}},[t._v("\n      Login\n    ")]),a("p",[t._v("\n      Don't have an account?\n      "),a("router-link",{attrs:{to:"/signup"}},[t._v("Click here ")]),t._v("to sign up\n    ")],1),a("v-alert",{attrs:{value:t.loginAlert,color:"error"}},[t._v("Incorrect email and/or password")])],1)])},wn=[],Tn={store:V,data:function(){return{user:{},loggedIn:!1,loginAlert:!1}},methods:{login:function(){var t=this;this.loginAlert=!1,V.dispatch("login",this.user).then(function(){t.$router.push("/")}).catch(function(){console.log("invalid login"),t.loginAlert=!0})},goToPasswordInput:function(){this.$refs.password_input.focus()}}},Dn=Tn,Cn=(a("09c9"),Object(U["a"])(Dn,_n,wn,!1,null,null,null)),Vn=Cn.exports;A()(Cn,{VAlert:Ft["a"],VBtn:X["a"],VTextField:Ye["a"]});var jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"dashboard",attrs:{row:""}},[a("v-flex",{attrs:{"d-flex":"",xs4:"","order-xs5":""}},[a("v-layout",{attrs:{column:""}},[a("div",{on:{click:function(e){return t.goToUserPhotos(t.user_id)}}},[a("div",[a("v-card",{staticClass:"photos-tile tile",attrs:{"d-flex":""}},[a("v-img",{staticClass:"tile-image",attrs:{src:"https://images.pexels.com/photos/747964/pexels-photo-747964.jpeg?cs=srgb&dl=background-calm-clouds-747964.jpg&fm=jpg"}}),t.isMyProfile?a("h2",{staticClass:"headline font-weight-light tile-heading"},[t._v("My Photos")]):a("h2",{staticClass:"headline font-weight-light tile-heading"},[t._v("User Photos")])],1)],1)]),t.isMyProfile||t.$store.getters.getIsUserAdmin?a("div",{on:{click:function(e){return t.goToUserDesinations(t.user_id)}}},[a("div",[a("v-card",{staticClass:"destinations-tile tile",attrs:{"d-flex":""}},[a("v-img",{staticClass:"tile-image",attrs:{src:"https://www.rd.com/wp-content/uploads/2017/11/this-is-the-one-destination-people-want-to-visit-before-they-die-hint-its-not-in-europe_458190886_maria-savenko-1024x683.jpg"}}),t.isMyProfile?a("h2",{staticClass:"headline font-weight-light tile-heading"},[t._v("My Destinations")]):a("h2",{staticClass:"headline font-weight-light tile-heading"},[t._v("User Destinations")])],1)],1)]):t._e()])],1),a("v-flex",{attrs:{"d-flex":"",x8:"","order-xs5":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{"d-flex":""}},[a("div",{on:{click:function(e){return t.goToUserTrips(t.user_id)}}},[a("v-card",{staticClass:"trips-tile tile",attrs:{"d-flex":""}},[a("v-img",{staticClass:"tile-image",attrs:{src:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1353&q=80"}}),t.isMyProfile?a("h2",{staticClass:"headline font-weight-light tile-heading"},[t._v("My Trips")]):a("h2",{staticClass:"headline font-weight-light tile-heading"},[t._v("User Trips")])],1)],1)])],1)],1)],1)},Pn=[],Un={name:"ProfileDashboard",data:function(){return{traveller:{},dateOfBirth:"",nationalities:[],passports:[],isMyProfile:!1,user_id:this.$route.params.id}},watch:{"$route.params.id":function(){this.init()}},methods:{init:function(){this.checkIfProfileOwner()},goToUserDesinations:function(t){var e="/user/"+t+"/destinations";this.$router.push(e)},checkIfProfileOwner:function(){var t=this.$route.params.id;this.isMyProfile=V.getters.getUser.id==t},goToUserTrips:function(t){var e="/user/"+t+"/trips";this.$router.push(e)},goToUserPhotos:function(t){var e="/user/"+t+"/photos";this.$router.push(e)}},created:function(){this.init()}},In=Un,An=(a("6e91"),Object(U["a"])(In,jn,Pn,!1,null,null,null)),Sn=An.exports;A()(An,{VCard:ft["a"],VFlex:K["a"],VImg:Nt["a"],VLayout:tt["a"]});var On=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[a("v-flex",{attrs:{lg6:"","offset-lg3":"",sm8:"","offset-sm2":"","text-xs-center":""}},[a("v-card",{staticClass:"signup-card"},[a("undo-redo-buttons",{attrs:{canRedo:t.rollbackCanRedo(),canUndo:t.rollbackCanUndo(),undo:t.undo,redo:t.redo}}),a("TravellerForm",{attrs:{fname:t.traveller.firstName,mname:t.traveller.middleName,lname:t.traveller.lastName,dob:t.dateOfBirth,gender:t.traveller.gender,types:t.traveller.travellerTypes,nationalities:t.nationalities,passports:t.passports},on:{"update:fname":function(e){return t.$set(t.traveller,"firstName",e)},"update:mname":function(e){return t.$set(t.traveller,"middleName",e)},"update:lname":function(e){return t.$set(t.traveller,"lastName",e)},"update:dob":function(e){t.dateOfBirth=e},"update:gender":function(e){return t.$set(t.traveller,"gender",e)},"update:types":function(e){return t.$set(t.traveller,"travellerTypes",e)},"update:nationalities":function(e){t.nationalities=e},"update:passports":function(e){t.passports=e}}}),a("SignupFields",{attrs:{email:t.traveller.email,password:t.traveller.password,confirmPassword:t.confirmPassword},on:{"update:email":function(e){return t.$set(t.traveller,"email",e)},"update:password":function(e){return t.$set(t.traveller,"password",e)},"update:confirmPassword":function(e){t.confirmPassword=e},"update:confirm-password":function(e){t.confirmPassword=e}}}),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"margin-left-to-checkbox",attrs:{xs12:"",sm6:"",md8:""}},[a("v-checkbox",{attrs:{label:"Create user as admin"},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-btn",{attrs:{disabled:!t.isValid,color:"primary"},on:{click:t.handleSignup}},[t._v("Create Profile")])],1)],1)],1),a("v-alert",{staticClass:"email-alert",attrs:{value:t.emailAlert,color:"error"}},[t._v("Email already taken")]),a("v-alert",{staticClass:"success",attrs:{value:t.createdUser,color:"success"}},[t._v("User created!")]),a("v-alert",{staticClass:"success",attrs:{value:t.undoSuccessAlert,color:"success"}},[t._v("User creation undone!")]),a("v-alert",{staticClass:"success",attrs:{value:t.redoSuccessAlert,color:"success"}},[t._v("User creation redone!")])],1)],1)},Rn=[],$n={name:"AdminCreateProfile",mixins:[Ue],components:{TravellerForm:Ba,SignupFields:Ga,UndoRedoButtons:$e},store:V,data:function(){return{checkbox:!0,isValid:!1,emailAlert:!1,undoSuccessAlert:!1,redoSuccessAlert:!1,createdUser:!1,traveller:{},dateOfBirth:"",nationalities:[],passports:[],confirmPassword:""}},methods:{clearAlerts:function(){this.emailAlert=!1,this.createdUser=!1,this.undoSuccessAlert=!1,this.redoSuccessAlert=!1},clearFields:function(){this.traveller={},this.nationalities=[],this.passports=[],this.confirmPassword="",this.$refs.form.reset()},setTraveller:function(){this.traveller.nationalities=_t.convertToNationalitiesReq(this.nationalities,this.passports),this.traveller.dateOfBirth=D.convertStringToTimestamp(this.dateOfBirth),this.checkbox&&(this.traveller.accountType=1)},signup:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.dispatch("signupOtherUser",this.traveller);case 3:e=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:if(e){t.next=12;break}return this.emailAlert=!0,t.abrupt("return",!1);case 12:return a="/travellers/".concat(e.data.id,"/toggle_deleted"),this.rollbackCheckpoint("POST",{url:a},{url:a}),this.clearFields(),t.abrupt("return",!0);case 16:case"end":return t.stop()}},t,this,[[0,6]])}));function e(){return t.apply(this,arguments)}return e}(),handleSignup:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.clearAlerts(),!this.$refs.form.validate()){t.next=7;break}return this.setTraveller(),t.next=5,this.signup();case 5:if(!t.sent){t.next=7;break}this.createdUser=!0;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),undo:function(){var t=this,e=[this.clearAlerts,function(){t.undoSuccessAlert=!0}];this.rollbackUndo(e)},redo:function(){var t=this,e=[this.clearAlerts,function(){t.redoSuccessAlert=!0}];this.rollbackRedo(e)}}},En=$n,Fn=(a("ac1f"),a("ac7c")),Mn=Object(U["a"])(En,On,Rn,!1,null,null,null),Bn=Mn.exports;A()(Mn,{VAlert:Ft["a"],VBtn:X["a"],VCard:ft["a"],VCheckbox:Fn["a"],VFlex:K["a"],VForm:qe["a"],VLayout:tt["a"]});var Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[a("v-flex",{attrs:{"text-xs-left":""}},[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{dark:""}},[t._v("keyboard_arrow_left")])],1),a("v-card",{staticClass:"profile-card"},[a("TravellerForm",{attrs:{fname:t.traveller.firstName,mname:t.traveller.middleName,lname:t.traveller.lastName,dob:t.dateOfBirth,gender:t.traveller.gender,types:t.travellerTypes,nationalities:t.nationalities,passports:t.passports},on:{"update:fname":function(e){return t.$set(t.traveller,"firstName",e)},"update:mname":function(e){return t.$set(t.traveller,"middleName",e)},"update:lname":function(e){return t.$set(t.traveller,"lastName",e)},"update:dob":function(e){t.dateOfBirth=e},"update:gender":function(e){return t.$set(t.traveller,"gender",e)},"update:types":function(e){t.travellerTypes=e},"update:nationalities":function(e){t.nationalities=e},"update:passports":function(e){t.passports=e}}}),a("div",{staticClass:"upload-section"},[a("h3",[t._v("Upload User Profile Photo")]),a("label",[a("input",{ref:"file",staticClass:"choose-file-button",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})]),a("v-btn",{on:{click:t.submitFile}},[t._v("Upload Photo")])],1),a("v-btn",{attrs:{disabled:!t.isValid,color:"primary"},on:{click:t.handleEdit}},[t._v("Save")])],1)],1)],1)},Nn=[],qn={name:"EditProfile",components:{TravellerForm:Ba},store:V,data:function(){return{isValid:!1,traveller:{},dialog:!1,dateOfBirth:"",nationalities:[],travellerTypes:[],passports:[]}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0]},submitFile:function(){var t=this,e=new FormData;e.append("picture",this.file),Ot(this.id,e).then(function(){window.location="/user/"+t.$route.params.id+"/edit"})},getTraveller:function(){var t=this;k.getUser(this.id).then(function(e){t.traveller=e.data,t.setTravellerToFields()})},setTravellerToFields:function(){var t=_t.convertFromNationalitiesRes(this.traveller.nationalities),e=Object(rt["a"])(t,2);this.nationalities=e[0],this.passports=e[1],this.travellerTypes=_t.convertFromTravellerTypesRes(this.traveller.travellerTypes),this.dateOfBirth=D.convertTimestampToString(this.traveller.dateOfBirth)},setFieldsToTraveller:function(){this.traveller.nationalities=_t.convertToNationalitiesReq(this.nationalities,this.passports),this.traveller.dateOfBirth=D.convertStringToTimestamp(this.dateOfBirth),this.traveller.travellerTypes=this.travellerTypes},handleEdit:function(){var t=this;this.$refs.form.validate()&&(this.setFieldsToTraveller(),V.dispatch("updateUser",this.traveller).then(function(){return V.dispatch("fetchMe")}).then(function(){t.$router.push("/user/"+t.id)}).catch(function(t){console.log(t)}))}},created:function(){this.id=this.$route.params.id,this.id||(this.id=V.getters.getUser.id),this.getTraveller()}},zn=qn,Yn=(a("7336"),Object(U["a"])(zn,Ln,Nn,!1,null,null,null)),Gn=Yn.exports;A()(Yn,{VBtn:X["a"],VCard:ft["a"],VFlex:K["a"],VForm:qe["a"],VIcon:$["a"]});var Zn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button")},Jn=[],Qn={name:"Logout",store:V,data:function(){return{}},mounted:function(){this.logout()},methods:{logout:function(){var t=this;V.dispatch("logout").then(function(){localStorage.setItem("token",""),t.$router.push("/login")}).catch(function(){localStorage.setItem("token",""),t.$router.push("/login")})}}},Wn=Qn,Hn=Object(U["a"])(Wn,Zn,Jn,!1,null,null,null),Xn=Hn.exports,Kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-container",{staticClass:"outer-container",staticStyle:{"margin-left":"0px","margin-top":"-20px"},attrs:{height:"100%"}},[a("div",{staticClass:"section"},[a("div",[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{dark:""}},[t._v("keyboard_arrow_left")])],1)],1),a("h2",{staticClass:"headline"},[t._v(t._s(t.trip.name))]),a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.toggleShouldDisplayButton()}}},[a("v-icon",{attrs:{dark:""}},[t._v("edit")])],1)],1),a("v-divider",{staticClass:"photo-header-divider"}),a("v-timeline",{attrs:{"align-top":""}},[a("v-dialog",{attrs:{"max-width":"100%"},model:{value:t.shouldDisplayDialog,callback:function(e){t.shouldDisplayDialog=e},expression:"shouldDisplayDialog"}},[a("create-trip",{staticStyle:{"background-color":"white"},attrs:{regetTrips:function(){return t.console.log("no need")},passedTrip:t.tripId,updateViewTripPage:this.updateViewTripPage}})],1),t._l(t.trip.destinations,function(e,n){return a("v-timeline-item",{key:n,attrs:{color:"red lighten-2","fill-dot":""}},[a("v-card",{attrs:{color:"red lighten-2",dark:""}},[a("v-card-title",{staticClass:"title"},[t._v(" "+t._s(e.name))]),a("v-card-text",{staticClass:"white text--primary"},[null!=e.arrivalDate?a("p",[t._v("Arrival Date: "+t._s(e.arrivalDate))]):t._e(),null!=e.departureDate?a("p",[t._v("Departure Date: "+t._s(e.departureDate))]):t._e(),a("v-btn",{staticClass:"mx-0",attrs:{color:"red lighten-2",outline:""},on:{click:function(a){return t.viewDestination(e.id)}}},[t._v("\n              View Destination\n            ")])],1)],1)],1)})],2)],1)],1)},ti=[],ei={store:V,data:function(){return{isMyProfile:!1,isAdmin:V.getters.getIsUserAdmin,tripId:this.$route.params.trip_id,userId:this.$route.params.id,is_inset:!0,trip:{},shouldDisplayDialog:!1}},methods:{viewDestination:function(t){this.$router.push("/user/"+this.userId+"/destinations/"+t)},toggleShouldDisplayButton:function(){this.shouldDisplayDialog=!this.shouldDisplayDialog},updateViewTripPage:function(){var t=this;se.getTrip(this.userId,this.tripId).then(function(e){var a=e.data,n=a.destinations.sort(function(t,e){return t.ordinal-e.ordinal});a.destinations=n;for(var i=0;i<a.destinations.length;i++)null!=a.destinations[i].arrivalDate&&(a.destinations[i].arrivalDate=D.convertTimestampToString(a.destinations[i].arrivalDate)),null!=a.destinations[i].arrivalDate&&(a.destinations[i].departureDate=D.convertTimestampToString(a.destinations[i].departureDate));t.trip=a})}},components:{CreateTrip:Ze},created:function(){var t=this;this.isMyProfile=V.getters.getUser.id==this.$route.params.id,this.isMyProfile||this.isAdmin||this.$router.go(-1),se.getTrip(this.userId,this.tripId).then(function(e){var a=e.data,n=a.destinations.sort(function(t,e){return t.ordinal-e.ordinal});a.destinations=n;for(var i=0;i<a.destinations.length;i++)null!=a.destinations[i].arrivalDate&&(a.destinations[i].arrivalDate=D.convertTimestampToString(a.destinations[i].arrivalDate)),null!=a.destinations[i].arrivalDate&&(a.destinations[i].departureDate=D.convertTimestampToString(a.destinations[i].departureDate));t.trip=a})}},ai=ei,ni=a("8414"),ii=a("1e06"),ri=Object(U["a"])(ai,Kn,ti,!1,null,null,null),si=ri.exports;A()(ri,{VBtn:X["a"],VCard:ft["a"],VCardText:Mt["b"],VCardTitle:Bt["a"],VContainer:O["a"],VDialog:Lt["a"],VDivider:ht["a"],VIcon:$["a"],VTimeline:ni["a"],VTimelineItem:ii["a"]});var oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("div",{staticClass:"outer-container"},[a("div",{staticClass:"inner-container"},[a("div",{staticClass:"section"},[a("div",{staticClass:"dest-name"},[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{dark:""}},[t._v("keyboard_arrow_left")])],1),a("h2",{staticClass:"headline"},[t._v(t._s(t.destination.name))])],1),a("div",[t.destination.isPublic?a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:t.toggleShowSuggestTravellerTypes}},[a("v-icon",{attrs:{dark:""}},[t._v("card_travel")])],1):a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"}},[a("v-icon",{attrs:{dark:""}},[t._v("lock")])],1),(t.isMyProfile||t.isAdminUser)&&t.destination.ownerId===parseInt(t.userId)?a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:t.editDestination}},[a("v-icon",{attrs:{dark:""}},[t._v("edit")])],1):t._e(),t.isMyProfile||t.isAdminUser?a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:t.toggleShowUploadPhoto}},[a("v-icon",{attrs:{dark:""}},[t._v("insert_photo")])],1):t._e()],1)]),a("v-divider",{staticClass:"photo-header-divider"}),a("div",{staticClass:"dest-sub-info"},[a("p",[a("strong",[t._v("Type:")]),t._v("\n          "+t._s(t.destination.type)+"\n        ")]),a("span",{staticClass:"dot"}),a("p",[a("strong",[t._v("District:")]),t._v("\n          "+t._s(t.destination.district)+"\n        ")]),a("span",{staticClass:"dot"}),a("p",[a("strong",[t._v("Country:")]),t._v("\n          "+t._s(t.destination.country)+"\n        ")]),a("span",{staticClass:"dot"}),a("p",[a("strong",[t._v("Latitude:")]),t._v("\n          "+t._s(t.destination.latitude)+"\n        ")]),a("span",{staticClass:"dot"}),a("p",[a("strong",[t._v("Longitude:")]),t._v("\n          "+t._s(t.destination.longitude)+"\n        ")]),a("span",{staticClass:"dot"}),a("p",[a("strong",[t._v("Traveller Types:")]),t._v("\n          "+t._s(t.getTravellerTypes(t.destination.travellerTypes))+"\n\n        ")])]),a("v-divider",{staticClass:"photo-header-divider"}),t.showUploadSection?a("div",[a("div",{staticClass:"upload-section section"},[a("label",[a("input",{ref:"file",staticClass:"choose-file-button",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})]),a("div",[a("v-btn",{on:{click:function(e){return t.submitFile()}}},[t._v("Upload Photo")]),a("v-btn",{on:{click:function(e){return t.uploadExisting()}}},[t._v("Choose Existing")])],1)]),a("v-alert",{attrs:{value:t.uploadError,color:"error"}},[t._v(t._s(t.errorText))]),a("v-alert",{attrs:{value:t.uploadSuccessful,color:"success"}},[t._v("Upload Successful")]),a("v-divider",{staticClass:"photo-header-divider"})],1):t._e(),a("ul",t._l(t.files,function(e){return a("li",{key:e.value,attrs:{value:e.value}},[a("div",{staticClass:"personal-photo-row"},t._l(e,function(e){return a("div",{key:e.value,staticClass:"image-container",attrs:{value:e.value}},[e.is_public?a("v-icon",{staticClass:"lock-icon",attrs:{left:""}},[t._v("lock_open")]):a("v-icon",{staticClass:"lock-icon",attrs:{left:""}},[t._v("lock")]),e.is_public?a("div",{staticClass:"triangle pink-color"}):a("div",{staticClass:"triangle"}),a("v-img",{staticClass:"personal-photo-element",attrs:{src:t.getImgUrl(e)},on:{click:[function(e){e.stopPropagation(),t.dialog=!0},function(a){return t.setDialogueContent(e)}]}})],1)}),0)])}),0),a("v-dialog",{attrs:{width:t.clickedImageWidth},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-img",{attrs:{src:t.clickedImageURL}}),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h5",{staticClass:"headline mb-0"},[t._v("Image Name")]),a("div",[t._v("Description/Other meta info")])])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),t.clickedImage.is_public?a("v-switch",{attrs:{disabled:"",label:"Public Photo"},model:{value:t.publicPhotoSwitch,callback:function(e){t.publicPhotoSwitch=e},expression:"publicPhotoSwitch"}}):a("v-switch",{attrs:{label:"Public Photo"},model:{value:t.publicPhotoSwitch,callback:function(e){t.publicPhotoSwitch=e},expression:"publicPhotoSwitch"}}),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.updatePhotoVisability()}}},[t._v("Apply changes")])],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{width:"800"},model:{value:t.chooseExistingDialog,callback:function(e){t.chooseExistingDialog=e},expression:"chooseExistingDialog"}},[a("PhotoSelect",t._b({},"PhotoSelect",{closeDialogue:t.closeDialogue,setDestinationImages:t.setDestinationImages},!1))],1)],1)]),a("v-dialog",{attrs:{"max-width":"900px"},model:{value:t.showSuggestTravellerTypes,callback:function(e){t.showSuggestTravellerTypes=e},expression:"showSuggestTravellerTypes"}},[a("v-card",{staticStyle:{padding:"20px"},attrs:{"min-height":"400px"}},[a("v-layout",{staticStyle:{"padding-left":"40px"},attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md12:""}},[a("h2",[t._v("Traveller Types")])]),a("v-flex",{attrs:{xs12:"",md11:""}},[a("v-select",{attrs:{label:"Associated Traveller Types",items:t.typeList,"item-text":"name",attach:"",multiple:"","return-object":""},model:{value:t.TravellerTypes,callback:function(e){t.TravellerTypes=e},expression:"TravellerTypes"}})],1),a("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:"",md11:""}},[a("v-btn",{on:{click:function(e){return t.submitTravellerTypes()}}},[t._v("\n            Submit\n          ")])],1)],1)],1)],1)],1)},li=[],ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("div",{staticClass:"outer-container"},[a("div",{staticClass:"inner-container"},[a("v-card-title",{attrs:{"primary-title":""}},[a("h2",{staticClass:"headline"},[t._v("Choose Existing Photo")])]),a("v-divider"),a("ul",t._l(t.files,function(e){return a("li",{key:e.value,attrs:{value:e.value}},[a("div",{staticClass:"personal-photo-row"},t._l(e,function(e){return a("div",{key:e.value,staticClass:"select-image-container",attrs:{value:e.value}},[t.imageIsSelected(e)?a("v-icon",{staticClass:"lock-icon",attrs:{left:""}},[t._v("done")]):t._e(),t.imageIsSelected(e)?a("div",{staticClass:"triangle image-selected"}):t._e(),a("v-img",{staticClass:"personal-photo-element",attrs:{src:t.getImgUrl(e)},on:{click:function(a){return t.selectImage(e)}}})],1)}),0)])}),0)],1)]),a("v-divider"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.closeDialogue}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.processSelected()}}},[t._v("Add Photos to Destination")])],1)},ui=[],di={store:V,data:function(){return{files:[],clickedImageURL:"",id:null,selectedImages:[]}},props:["closeDialogue","setDestinationImages"],methods:{processSelected:function(){this.setDestinationImages(this.selectedImages)},getImgUrl:function(t){return v+"/api/travellers/photo/"+t.photo_filename},imageIsSelected:function(t){for(var e=0;e<=this.selectedImages.length;e++)if(t===this.selectedImages[e])return!0;return!1},unselectImage:function(t){for(var e=0;e<=this.selectedImages.length;e++)t===this.selectedImages[e]&&this.selectedImages.splice(e,1)},selectImage:function(t){this.imageIsSelected(t)?this.unselectImage(t):this.selectedImages.push(t)},groupImages:function(t){for(var e=[],a=[],n=4,i=0;i<t.length;i++)i%n===0&&0!==a.length&&(e.unshift(a),a=[]),a.push(t[i]);return e.unshift(a),e.reverse(),e}},created:function(){var t=this;this.id=this.$route.params.id,At(this.id).then(function(e){t.files=t.groupImages(e.data)})}},pi=di,fi=(a("553e"),Object(U["a"])(pi,ci,ui,!1,null,null,null)),vi=fi.exports;A()(fi,{VBtn:X["a"],VCard:ft["a"],VCardTitle:Bt["a"],VDivider:ht["a"],VIcon:$["a"],VImg:Nt["a"]});var hi=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",g.post("/users/".concat(e,"/destinations/").concat(a,"/photo"),n));case 1:case"end":return t.stop()}},t)}));return function(e,a,n){return t.apply(this,arguments)}}(),mi=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",g.get("/users/".concat(e,"/destinations/").concat(a,"/photo")));case 1:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),gi=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",g.put("/destinations/photo/".concat(e.id),e));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),bi=function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,a,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("/users/".concat(e,"/destinations/").concat(a,"/photo")),t.abrupt("return",g.put("/users/".concat(e,"/destinations/").concat(a,"/photo"),n));case 2:case"end":return t.stop()}},t)}));return function(e,a,n){return t.apply(this,arguments)}}(),yi=ue.get("destination"),ki={store:V,components:{PhotoSelect:vi},data:function(){return{files:[],TravellerTypes:[],typeList:[],clickedImageURL:"",clickedImage:{},clickedImageWidth:0,dialog:!1,publicPhotoSwitch:!1,showUploadSection:!1,userId:null,isMyProfile:!1,isAdminUser:!1,destination:{},destId:null,uploadError:!1,chooseExistingDialog:!1,uploadSuccessful:!1,errorText:"You are trying to upload a duplicate image or an error occured while uploading.",showSuggestTravellerTypes:!1}},methods:{submitTravellerTypes:function(){var t=this,e={destinationId:this.destId,travellerTypeIds:this.TravellerTypes};yi.addDestinationEditRequest(e).then(function(){t.showSuggestTravellerTypes=!1}).catch(function(t){console.log(t)})},populateSelects:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$a.travellerTypes();case 2:e=t.sent,this.typeList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),editDestination:function(){this.$router.push("/user/"+this.userId+"/destinations/edit/"+this.destId)},setDestinationImages:function(t){for(var e=this,a=0;a<t.length;a++)bi(this.userId,this.destId,{photo_filename:t[a].photo_filename}).then(function(){mi(e.userId,e.destId).then(function(t){e.files=e.groupImages(t.data)})});this.closeDialogue()},uploadExisting:function(){this.chooseExistingDialog=!0},closeDialogue:function(){this.chooseExistingDialog=!1},handleFileUpload:function(){this.file=this.$refs.file.files[0]},toggleShowUploadPhoto:function(){this.showUploadSection=!this.showUploadSection},toggleShowSuggestTravellerTypes:function(){this.showSuggestTravellerTypes=!this.showSuggestTravellerTypes},updatePhotoVisability:function(){this.clickedImage.is_public=this.publicPhotoSwitch,gi(this.clickedImage)},submitFile:function(){var t=this;this.uploadError=!1,this.uploadExisting=!1;var e=new FormData;e.append("picture",this.file),hi(this.userId,this.destId,e).then(function(){mi(t.userId,t.destId).then(function(e){t.uploadExisting=!0,t.files=t.groupImages(e.data)})}).catch(function(e){t.uploadError=!0,t.errorText=e.response.data}),this.$refs.file.value=""},getImgUrl:function(t){return v+"/api/destinations/photo/"+t.photo_filename},setDialogueContent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dialog=!0,this.clickedImage=t,this.publicPhotoSwitch=t.is_public,this.clickedImageURL=this.getImgUrl(t);var e=new Image;e.src=v+"/api/destinations/photo/"+t.photo_filename,this.clickedImageWidth=e.width<400?400:e.width},groupImages:function(t){for(var e=[],a=[],n=4,i=0;i<t.length;i++)i%n===0&&0!==a.length&&(e.unshift(a),a=[]),a.push(t[i]);return e.unshift(a),e.reverse(),e},getTravellerTypes:function(t){if(t){for(var e="",a=0;a<t.length;a++)e+=t[a].name,a!==t.length-1&&(e+=", ");return e}return"-"}},created:function(){var t=this;this.populateSelects(),this.userId=this.$route.params.id,this.destId=this.$route.params.dest_id,this.userId||(this.userId=V.getters.getUser.id),this.isMyProfile=V.getters.getUser.id==this.userId,this.isAdminUser=V.getters.getIsUserAdmin,mi(this.userId,this.destId).then(function(e){t.files=t.groupImages(e.data)}),yi.getDestination(this.userId,this.destId).then(function(e){t.destination=e.data}).catch(function(t){console.log(t)})}},xi=ki,_i=(a("ee9d"),Object(U["a"])(xi,oi,li,!1,null,null,null)),wi=_i.exports;A()(_i,{VAlert:Ft["a"],VBtn:X["a"],VCard:ft["a"],VCardActions:Mt["a"],VCardTitle:Bt["a"],VDialog:Lt["a"],VDivider:ht["a"],VFlex:K["a"],VIcon:$["a"],VImg:Nt["a"],VLayout:tt["a"],VSelect:ga["a"],VSpacer:ua["a"],VSwitch:qt["a"]});var Ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"outer-container",staticStyle:{"margin-top":"10px","padding-left":"22.5%"},attrs:{height:"100%"}},[a("v-card",{staticStyle:{width:"70%"}},[a("div",{staticClass:"section"},[a("div",{staticClass:"dest-name"},[a("v-btn",{staticClass:"upload-toggle-button",attrs:{fab:"",small:"",dark:"",color:"indigo"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{dark:""}},[t._v("keyboard_arrow_left")])],1),a("h2",{staticClass:"headline"},[t._v("Destination Edit Requests")])],1)]),a("v-divider",{staticClass:"photo-header-divider"}),t._l(t.editRequests,function(e){return a("li",{key:e.id,staticStyle:{padding:"20px"}},[a("v-card",[a("v-layout",{attrs:{row:"",wrap:"",s:""}},[a("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:"",sm12:"",md12:""}},[a("h3",[t._v(t._s(e.destination.name))]),a("v-divider")],1),a("v-flex",{staticStyle:{"text-align":"center","padding-left":"20px"},attrs:{xs12:"",sm12:"",md2:""}},[a("v-btn",{on:{click:function(a){return t.$router.push("/user/"+e.user.id)}}},[t._v("\n                            View User\n                        ")])],1),a("v-flex",{staticStyle:{"text-align":"center","padding-left":"20px"},attrs:{xs12:"",sm12:"",md2:""}},[a("v-btn",{on:{click:function(a){return t.$router.push("/user/"+t.userid+"/destinations/"+e.destination.id)}}},[t._v("\n                            View Destination\n                        ")])],1),a("v-flex",{attrs:{xs12:"",sm12:"",md3:"","offset-lg1":""}},[a("v-select",{attrs:{items:t.getTravellerTypes(e.destination.travellerTypes),label:"Current Traveller Types",attach:"",solo:""}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md3:""}},[a("v-select",{attrs:{items:t.getTravellerTypes(e.travellerTypes),label:"Sugguested Traveller Types",attach:"",solo:""}})],1),a("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:"",sm12:"",md3:"","offset-lg3":""}},[a("v-btn",{attrs:{color:"warning"},on:{click:function(a){return t.denyRequest(e.id)}}},[t._v("\n                            Deny\n                        ")])],1),a("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:"",sm12:"",md3:""}},[a("v-btn",{attrs:{color:"info"},on:{click:function(a){return t.acceptRequest(e.id)}}},[t._v("\n                        Accept\n                    ")])],1)],1)],1)],1)})],2)],1)},Di=[],Ci=ue.get("destination"),Vi={store:V,data:function(){return{userid:null,editRequests:[]}},created:function(){this.userid=V.getters.getUser.id,this.init()},methods:{init:function(){var t=this;Ci.getEditRequests().then(function(e){t.editRequests=e.data.requests}).catch(function(t){console.log(t)})},denyRequest:function(t){var e=this;Ci.denyEditRequest(t).then(function(){e.init()}).catch(function(t){console.log(t)})},acceptRequest:function(t){var e=this;Ci.acceptEditRequest(t).then(function(){e.init()}).catch(function(t){console.log(t)})},getTravellerTypes:function(t){if(null!==t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].name);return e}return[]}}},ji=Vi,Pi=Object(U["a"])(ji,Ti,Di,!1,null,null,null),Ui=Pi.exports;A()(Pi,{VBtn:X["a"],VCard:ft["a"],VContainer:O["a"],VDivider:ht["a"],VFlex:K["a"],VIcon:$["a"],VLayout:tt["a"],VSelect:ga["a"]});var Ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-layout",{attrs:{"pa-2":"","align-center":""}},[a("h3",[t._v("Destinations")]),a("v-spacer"),a("v-layout",{attrs:{"justify-end":"","align-center":""}},[t.focussedDestination.data&&t.focussedDestination.data.id&&t.isAllowedToEdit?a("div",[a("UndoRedoButtons",{attrs:{canRedo:t.rollbackCanRedo(),canUndo:t.rollbackCanUndo(),undo:t.undo,redo:t.redo}})],1):t._e()])],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:""}},[t.browseActive?a("v-flex",{attrs:{xs4:"",sm3:"",md2:""}},[a("DestinationNav",{attrs:{destinations:t.destinations,focusDestination:t.focusDestination,toggleDestination:t.toggleDestination,closeDestinationNav:function(){t.browseActive=!1}}})],1):a("v-card",[a("v-flex",{staticClass:"menu-icon",attrs:{"pa-3":""}},[a("v-icon",{on:{click:function(e){t.browseActive=!0}}},[t._v("view_list")])],1)],1),a("v-flex",[a("DestinationMap",{attrs:{destinations:t.visableDestinations,focussedDestination:t.deepCopy(t.focussedDestination),focusDestination:t.focusDestination}})],1),t.focussedDestination.data?a("v-flex",{attrs:{xs4:"",sm3:"",md2:""}},[t.focussedDestination.data?a("DestinationDetails",{attrs:{focussedDestination:t.deepCopy(t.focussedDestination),passBackDestination:t.submitDestination,focusDestination:t.focusDestination,cancelEdit:t.cancelEdit,allowedToEdit:t.isAllowedToEdit}}):t._e()],1):t._e()],1)],1)],1)},Ai=[],Si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"830px",flat:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{col:"",xs12:""}},[a("v-flex",{staticClass:"collapse-menu",attrs:{"mt-2":"","mb-2":"","pa-3":""},on:{click:t.closeDestinationNav}},[a("v-icon",[t._v("arrow_back_ios")]),t._v("Collapse Browse\n          ")],1),a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{key:1,staticClass:"dest-list-tabs"},[t._v("Private")]),a("v-tab",{key:2,staticClass:"dest-list-tabs"},[t._v("Public")]),a("v-tab-item",{key:1,attrs:{"mt-2":""}},[a("v-flex",{attrs:{"mt-3":""}},t._l(t.privateDestinations,function(e,n){return a("DestinationNavItem",{key:n,staticClass:"destination-nav-item",attrs:{destination:e},on:{dblclick:function(a){return t.focusDestination(e)}},nativeOn:{click:function(a){return t.toggleDestination(e)}}})}),1)],1),a("v-tab-item",{key:2,attrs:{"mt-2":""}},[a("v-flex",{attrs:{"mt-3":""}},t._l(t.publicDestinations,function(e,n){return a("DestinationNavItem",{key:n,class:{showing:e.isShowing},attrs:{destination:e},on:{dblclick:function(a){return t.focusDestination(e)}},nativeOn:{click:function(a){return t.toggleDestination(e)}}})}),1)],1)],1)],1)],1)],1)],1)],1)},Oi=[],Ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",{class:{showing:t.destination.isShowing},attrs:{row:"",wrap:"","pt-2":"","pb-2":"","pl-3":""}},[a("v-flex",{attrs:{xs12:""}},[a("strong",[t._v(t._s(t.destination.data.name))])]),a("v-flex",{attrs:{xs12:""}},[t._v(t._s(t.destination.data.district)+", "+t._s(t.destination.data.country))])],1)],1)],1)},$i=[],Ei={data:function(){return{}},props:{destination:Object},methods:{}},Fi=Ei,Mi=(a("a16d"),Object(U["a"])(Fi,Ri,$i,!1,null,null,null)),Bi=Mi.exports;A()(Mi,{VCard:ft["a"],VFlex:K["a"],VLayout:tt["a"]});var Li={components:{DestinationNavItem:Bi},data:function(){return{tab:1,browseActive:!1}},methods:{},props:{destinations:Array,focusDestination:Function,toggleDestination:Function,closeDestinationNav:Function},watch:{},computed:{privateDestinations:function(){return this.destinations.filter(function(t){return!t.data.isPublic})},publicDestinations:function(){return this.destinations.filter(function(t){return t.data.isPublic})},privateDestinationCount:function(){this.privateDestinations.length},publicDestinationCount:function(){this.publicDestinations.length}}},Ni=Li,qi=(a("7a27"),Object(U["a"])(Ni,Si,Oi,!1,null,null,null)),zi=qi.exports;A()(qi,{VCard:ft["a"],VFlex:K["a"],VIcon:$["a"],VLayout:tt["a"],VTab:un["a"],VTabItem:dn["a"],VTabs:pn["a"]});var Yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("div",{staticClass:"destination-overlayed"},[a("v-label",{attrs:{"d-flex":"","align-center":""}},[a("GmapAutocomplete",{staticClass:"v-text-field destination-search-box",attrs:{placeholder:"Search","select-first-on-enter":!0},on:{place_changed:t.onSearch},nativeOn:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}}}),a("i",{staticClass:"v-icon material-icons destination-search-btn",attrs:{"aria-hidden":"true"}},[t._v("search")])],1)],1),a("div",{staticClass:"destination-overlayed destination-darkmode-switch"},[a("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:t.toggleDarkMode}},[a("v-icon",[t._v("brightness_2")])],1)],1),a("v-flex",{staticClass:"map-flex"},[a("GmapMap",{ref:"map",staticClass:"destination-main-map",attrs:{center:t.gMapOptions.center,options:t.gMapOptions},on:{click:t.onMapClick}},[t._l(t.privateDestinations,function(e){return a("GmapMarker",{key:e.data.id,attrs:{position:{lat:e.data.latitude,lng:e.data.longitude},draggable:!1,clickable:!0,icon:t.privateMarker},on:{click:function(a){return t.focusDestination(e)}}})}),t._l(t.publicDestinations,function(e){return a("GmapMarker",{key:e.data.id,attrs:{position:{lat:e.data.latitude,lng:e.data.longitude},draggable:!1,clickable:!0,icon:t.publicMarker},on:{click:function(a){return t.focusDestination(e)}}})}),t.focussedDestination.data?a("GmapMarker",{attrs:{position:{lat:t.focussedDestination.data.latitude,lng:t.focussedDestination.data.longitude},draggable:!1,clickable:!0}}):t._e()],2)],1)],1)},Gi=[],Zi=(a("a481"),function(){function t(e){Object(ke["a"])(this,t),this.map=e,this.resolve=!1,this.reject=!1,this._doZoom=this._doZoom.bind(this),this._zoomIn=this._zoomIn.bind(this),this._zoomOut=this._zoomOut.bind(this)}return Object(xe["a"])(t,[{key:"in",value:function(t){var e=this;return new u.a(function(a,n){e.resolve=a,e.reject=n,e._zoomIn(t,e.map.getZoom())})}},{key:"out",value:function(t){var e=this;return new u.a(function(a,n){e.resolve=a,e.reject=n,e._zoomOut(t,e.map.getZoom())})}},{key:"_zoomIn",value:function(t,e){var a=this;if(e>t)this.resolve&&this.resolve(this);else{var n=google.maps.event.addListener(this.map,"zoom_changed",function(i){google.maps.event.removeListener(n),a._zoomIn(t,e+.5)});this._doZoom(e)}}},{key:"_zoomOut",value:function(t,e){var a=this;if(e<t)this.resolve&&this.resolve(this);else{var n=google.maps.event.addListener(this.map,"zoom_changed",function(i){google.maps.event.removeListener(n),a._zoomOut(t,e-.5)});this._doZoom(e)}}},{key:"_doZoom",value:function(t){var e=this;setTimeout(function(){e.map.setZoom(t)},80)}}]),t}()),Ji=Zi,Qi=[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{lightness:11.200000000000017},{gamma:1}]}],Wi=[{featureType:"all",elementType:"all",stylers:[{invert_lightness:!0},{saturation:10},{lightness:30},{gamma:.5},{hue:"#435158"}]}],Hi=a("d50e"),Xi=a("f440"),Ki=(a("214e"),{data:function(){return{gMapOptions:{mapTypeControl:!1,styles:Qi,maxZoom:18,minZoom:3,zoom:3,streetViewControl:!1,fullscreenControl:!1,mapTypeId:"roadmap",center:{lat:0,lng:120},restriction:{latLngBounds:{north:85,south:-85,west:-180,east:180},strictBounds:!0}},infoWindow:{position:{lat:0,lng:0},open:!1},publicMarker:Xi,privateMarker:Hi}},props:{destinations:Array,focusDestination:Function,focussedDestination:Object},computed:{privateDestinations:function(){var t=this;return this.destinations.filter(function(e){return!e.data.isPublic&&e.data.id!==t.focussedId})},publicDestinations:function(){var t=this;return this.destinations.filter(function(e){return e.data.isPublic&&e.data.id!==t.focussedId})},focussedId:function(){return null!=this.focussedDestination.data?this.focussedDestination.data.id:-1}},methods:{toggleDarkMode:function(){this.darkModeOn?this.gMapOptions.styles=Qi:this.gMapOptions.styles=Wi,this.darkModeOn=!this.darkModeOn},panAndZoom:function(t){var e=this,a=new Ji(this.$refs.map.$mapObject);a.out(11).then(function(){e.$refs.map.$mapObject.panTo({lat:t.latitude,lng:t.longitude}),e.$refs.map.$mapObject.panTo({lat:t.latitude,lng:t.longitude}),a.in(15)})},updateCoordinatesAfterDrag:function(t,e){this.focussedDestination.data.latitude=t.latLng.lat(),this.focussedDestination.data.longitude=t.latLng.lng(),this.focusDestination(e)},onSearch:function(t){if(t){var e={latitude:t.geometry.location.lat(),longitude:t.geometry.location.lng()},a={latitude:e.latitude,longitude:e.longitude};if(t.name&&(e.name=t.name),t.types){var n=t.types.filter(function(t){return"locality"===t})[0];e.type=n?"City":this.toTitleCase(t.types[0])}t.address_components&&(e.country=t.address_components.filter(function(t){return t.types.includes("country")})[0].long_name,e.district=t.address_components.filter(function(t){return t.types.includes("administrative_area_level_1")})[0].long_name),this.focussedDestination.data=e,this.placeNewMarker(a),this.panAndZoom(a)}},placeNewMarker:function(t){this.focussedDestination.data?this.focussedDestination.data&&this.focussedDestination.data.id&&(this.focussedDestination.data={}):this.focussedDestination.data={},this.focussedDestination.data.latitude=t.latitude,this.focussedDestination.data.longitude=t.longitude,this.focusDestination(this.focussedDestination)},toTitleCase:function(t){return t.replace(/([^A-Z])([A-Z])/g,"$1 $2").replace(/[_\-]+/g," ").toLowerCase().replace(/(^\w|\b\w)/g,function(t){return t.toUpperCase()}).replace(/\s+/g," ").replace(/^\s+|\s+$/,"")},onMapClick:function(t){this.placeNewMarker({latitude:t.latLng.lat(),longitude:t.latLng.lng()})}}}),tr=Ki,er=(a("f8fa"),a("24c9")),ar=Object(U["a"])(tr,Yi,Gi,!1,null,null,null),nr=ar.exports;A()(ar,{VBtn:X["a"],VFlex:K["a"],VIcon:$["a"],VLabel:er["a"],VLayout:tt["a"]});var ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"830px",flat:""}},[t.createMode||t.editMode?a("v-layout",{attrs:{row:"",wrap:"","pl-2":""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-flex",{attrs:{xs12:"","pb-2":""}},[a("v-layout",[t.createMode?a("h3",[t._v("Create a Destination")]):t._e(),t.editMode&&!t.createMode?a("h3",[t._v("Edit Destination")]):t._e()])],1),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[a("v-text-field",{attrs:{counter:60,label:"Destination Name",required:"",rules:t.nameRules,name:"nameField"},on:{change:t.pushDestination},model:{value:t.destination.data.name,callback:function(e){t.$set(t.destination.data,"name",e)},expression:"destination.data.name"}})],1),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[a("v-text-field",{attrs:{counter:60,rules:t.nameRules,label:"Destination Type",required:"",name:"typeField"},on:{change:t.pushDestination},model:{value:t.destination.data.type,callback:function(e){t.$set(t.destination.data,"type",e)},expression:"destination.data.type"}})],1),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[a("v-select",{attrs:{label:"Associated Traveller Types",items:t.typeList,"item-text":"name","return-object":"",name:"travellerTypeField",attach:"",multiple:""},on:{change:t.pushDestination},model:{value:t.destination.data.travellerTypes,callback:function(e){t.$set(t.destination.data,"travellerTypes",e)},expression:"destination.data.travellerTypes"}})],1),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[a("v-text-field",{attrs:{counter:60,rules:t.nameRules,label:"District",required:"",name:"districtField"},on:{change:t.pushDestination},model:{value:t.destination.data.district,callback:function(e){t.$set(t.destination.data,"district",e)},expression:"destination.data.district"}})],1),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[a("v-text-field",{attrs:{counter:60,label:"Country",required:"",rules:t.nameRules,name:"countryField"},on:{change:t.pushDestination},model:{value:t.destination.data.country,callback:function(e){t.$set(t.destination.data,"country",e)},expression:"destination.data.country"}})],1),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[a("v-text-field",{attrs:{type:"number",rules:t.numberRules,label:"Latitude",required:""},on:{change:t.pushDestination},model:{value:t.destination.data.latitude,callback:function(e){t.$set(t.destination.data,"latitude",t._n(e))},expression:"destination.data.latitude"}})],1),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[a("v-text-field",{attrs:{type:"number",rules:t.numberRules,label:"Longitude",required:""},on:{change:t.pushDestination},model:{value:t.destination.data.longitude,callback:function(e){t.$set(t.destination.data,"longitude",t._n(e))},expression:"destination.data.longitude"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-btn",{on:{click:t.goToViewDestination}},[t._v("Cancel")]),t.editMode?a("v-btn",{attrs:{color:"primary"},on:{click:t.updateDestination}},[t._v("Update")]):a("v-btn",{attrs:{color:"primary"},on:{click:t.updateDestination}},[t._v("Create")])],1)],1)],1)],1):t._e(),t.createMode||t.editMode?t._e():a("v-layout",{attrs:{row:"",wrap:"","px-2":""}},[a("v-flex",{attrs:{xs12:"","pb-2":""}},[a("v-layout",{attrs:{row:"","justify-space-between":"","align-center":""}},[a("h3",[t._v(t._s(t.focussedDestination.data.name))]),a("v-btn",{on:{click:function(e){t.editMode=!0}}},[a("v-icon",[t._v("edit")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[t._v(t._s(t.focussedDestination.data.type))]),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[t._v(t._s(t.focussedDestination.data.district))]),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[t._v(t._s(t.focussedDestination.data.country))]),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[t._v("Long: "+t._s(t.focussedDestination.data.longitude))]),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[t._v("Lat: "+t._s(t.focussedDestination.data.latitude))]),a("v-flex",{attrs:{xs12:"","pb-1":"","px-3":""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.focussedDestination.data.travellerTypes,function(e,n){return a("v-chip",{key:n},[t._v(t._s(e.name))])}),1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.gotoDest}},[t._v("View Destination")])],1)],1)],1)],1)},rr=[],sr=a("f499"),or=a.n(sr),lr=function(t){return JSON.parse(or()(t))},cr=(ue.get("destination"),{data:function(){return Object(ie["a"])({editMode:!1,destination:{data:{}}},fe,{typeList:[],travellerTypes:[]})},props:{focussedDestination:Object,passBackDestination:Function,focusDestination:Function,allowedToEdit:Boolean},computed:{createMode:function(){return!(!this.focussedDestination.data||this.focussedDestination.data.id)}},watch:{focussedDestination:{handler:function(t,e){e.data.id!==t.data.id&&this.goToViewDestination(),t.data!==this.destination.data&&(this.destination=this.focussedDestination)},deep:!0}},methods:{goToViewDestination:function(){this.editMode=!1},pushDestination:function(){this.focusDestination(this.destination)},updateDestination:function(){this.$refs.form.validate()&&(this.passBackDestination(this.destination),this.goToViewDestination())},populateSelects:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$a.travellerTypes();case 2:e=t.sent,this.typeList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),gotoDest:function(){var t=this.$store.getters.getUser.id;this.$router.push("/user/".concat(t,"/destinations/").concat(this.focussedDestination.data.id))}},mounted:function(){this.populateSelects(),this.destination=this.focussedDestination}}),ur=cr,dr=Object(U["a"])(ur,ir,rr,!1,null,null,null),pr=dr.exports;A()(dr,{VBtn:X["a"],VCard:ft["a"],VChip:vt["a"],VFlex:K["a"],VForm:qe["a"],VIcon:$["a"],VLayout:tt["a"],VSelect:ga["a"],VTextField:Ye["a"]});var fr=ue.get("destination"),vr={store:V,mixins:[Ue],components:{UndoRedoButtons:$e,DestinationNav:zi,DestinationMap:nr,DestinationDetails:pr},data:function(){return{destinations:[],focussedDestination:{},browseActive:!1,isAdminUser:!1,userId:V.getters.getUser.id}},watch:{focussedDestination:{handler:function(t,e){e.data.id!==t.data.id&&this.rollbackFlush()},deep:!0}},methods:{deepCopy:function(t){return lr(t)},createDestination:function(){this.focussedDestination={data:{}}},toggleDestination:function(t){var e=this.destinations.filter(function(e){return e.data.id===t.data.id});e[0]&&(e[0].isShowing=!e[0].isShowing)},focusDestination:function(t){var e=this;if(this.focussedDestination=this.deepCopy(t),this.focussedDestination.data&&this.focussedDestination.data.id){var a=this.destinations.filter(function(t){return t.data.id===e.focussedDestination.data.id})[0];console.log(a),this.rollbackSetPreviousBody(a.data)}},submitDestination:function(t){var e=this;t.data.id?fr.updateDestination(this.userId,t.data.id,t.data).then(function(){var a="/users/".concat(e.userId,"/destinations/").concat(t.data.id);e.rollbackCheckpoint("PUT",{url:a,body:t.data},{url:a,body:e.rollbackPreviousBody}),e.rollbackPreviousBody=t.data,e.populateDestinations()}).catch(function(t){console.error(t)}):fr.createDestination(this.userId,t.data).then(function(){e.populateDestinations(),e.focussedDestination={}}).catch(function(t){console.error(t)})},populateDestinations:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.destinations=[],t.prev=1,t.next=4,fr.getDestinations(this.userId);case 4:e=t.sent,e.data.forEach(function(t){var e={data:t,isShowing:!0};a.destinations.push(e)}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),cancelEdit:function(){this.focussedDestination={}},fetchAfterRollback:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.focussedDestination.data.id,console.log(e),t.next=4,this.populateDestinations();case 4:this.focussedDestination=this.destinations.filter(function(t){return t.data.id===e})[0],console.log(this.focussedDestination);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),undo:function(){var t=[this.fetchAfterRollback];try{this.rollbackUndo(t)}catch(e){console.error(e)}},redo:function(){var t=[this.fetchAfterRollback];try{this.rollbackRedo(t)}catch(e){console.error(e)}}},computed:{isAllowedToEdit:function(){return this.isAdminUser||this.focussedDestination.data.ownerId===this.userId},visableDestinations:function(){return this.destinations.filter(function(t){return t.isShowing})}},created:function(){this.populateDestinations(),this.isAdminUser=V.getters.getIsUserAdmin,this.userId=V.getters.getUser.id}},hr=vr,mr=(a("66c6"),Object(U["a"])(hr,Ii,Ai,!1,null,null,null)),gr=mr.exports;A()(mr,{VCard:ft["a"],VFlex:K["a"],VIcon:$["a"],VLayout:tt["a"],VSpacer:ua["a"]});var br=function(){return"/user/".concat(V.getters.getUser.id)},yr=function(){return"/login"},kr=function(t,e,a){return V.getters.getToken?!V.getters.getToken||V.getters.getUser?a():void V.dispatch("fetchMe").then(function(){return a()}).catch(function(){return a(yr())}):a(yr())},xr=function(t,e,a){return V.getters.getToken?(V.getters.getToken&&!V.getters.getUser&&V.dispatch("fetchMe").then(function(){return a(br())}).catch(function(){return a()}),a("/user/".concat(V.getters.getUser.id))):a()},_r=function(t,e,a){return V.getters.getToken?!V.getters.getToken||V.getters.getUser?t.params.id==V.getters.getUser.id||V.getters.getIsUserAdmin?a():a(br()):(V.dispatch("fetchMe").then(function(){return t.params.id==V.getters.getUser.id||V.getters.getIsUserAdmin?a():a(br())}).catch(function(){return a(yr())}),a()):a(yr())};n["a"].use(Z["a"]);var wr=new Z["a"]({mode:"history",routes:[{path:"",name:"home",component:at,beforeEnter:xr},{path:"/destinations",name:"destinationPage",component:gr,beforeEnter:kr},{path:"/user/:id",component:Ct,beforeEnter:kr,children:[{path:"",name:"travellerProfileDashboard",component:Sn},{path:"edit",name:"editProfile",component:Gn,beforeEnter:_r},{path:"trips",name:"travellerTrips",component:aa},{path:"/user/:id/trips/:trip_id",name:"view-trip",component:si},{path:"photos",name:"travellerProfilePhotos",component:Qt},{path:"destinations",name:"travellerDestination",component:vn,beforeEnter:_r},{path:"destinations/:dest_id",name:"single-destination",component:wi},{path:"destinations/edit/:dest_id",name:"edit-destination",component:xn,beforeEnter:_r}]},{path:"/login",name:"login",component:Vn,beforeEnter:xr},{path:"/signup",name:"signup",component:Wa,beforeEnter:xr},{path:"/users",name:"userSearch",component:wa,beforeEnter:kr},{path:"/logout",name:"logout",component:Xn},{path:"/admin_dash",name:"admin_dash",component:Bn,beforeEnter:kr,meta:{requiresAdmin:!0}},{path:"/edit_requests",name:"edit_requests",component:Ui,beforeEnter:kr,meta:{requiresAdmin:!0}}]}),Tr=wr,Dr=a("755e");n["a"].use(Dr,{load:{key:"AIzaSyDCyC_ON0GgSmJIfPlL7oke5PZgbR8TLbg",libraries:"places"}}),n["a"].config.productionTip=!1,new n["a"]({router:Tr,render:function(t){return t(G)}}).$mount("#app")},5887:function(t,e,a){},"5e74":function(t,e,a){},"619f":function(t,e,a){"use strict";var n=a("3404"),i=a.n(n);i.a},"624b":function(t,e,a){},"66c6":function(t,e,a){"use strict";var n=a("5887"),i=a.n(n);i.a},"6d70":function(t,e,a){},"6ddb":function(t,e,a){},"6e91":function(t,e,a){"use strict";var n=a("6ddb"),i=a.n(n);i.a},7336:function(t,e,a){"use strict";var n=a("7346"),i=a.n(n);i.a},7346:function(t,e,a){},"7a27":function(t,e,a){"use strict";var n=a("b0ab"),i=a.n(n);i.a},"7ca3":function(t,e,a){"use strict";var n=a("200e"),i=a.n(n);i.a},"864c":function(t,e,a){},"9e73":function(t,e,a){},"9f30":function(t,e,a){"use strict";var n=a("b583"),i=a.n(n);i.a},a16d:function(t,e,a){"use strict";var n=a("b1ad"),i=a.n(n);i.a},a572:function(t,e,a){},ac1f:function(t,e,a){"use strict";var n=a("3cda"),i=a.n(n);i.a},afde:function(t,e,a){"use strict";var n=a("624b"),i=a.n(n);i.a},b0ab:function(t,e,a){},b1ad:function(t,e,a){},b21b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAPFBMVEXk5ueutLfn6eqrsbTp6+zg4uOwtrnJzc/j5earsbW0ubzQ09XGysy4vcCorrHa3d7AxcfW2dvO0dTDx8obL96MAAAFWUlEQVR4nO2cWZLjIAxAbYGXgPF6/7sOdJbO5okNIgi3Xs1U/+aVhBAYKAqGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYQ4ISNkOk9az1noaWikh9S/CBGQ7deYkhP3ncH/UMlVHsZRVo6xU+YQVVc0A2UsCaCNOz3a/lmousnaEoilfgvcsubT5OkIjPvj9OPZLprkqp/X0fHacZepfux8ozIb43RxVlVsYbQC3+/04ZhZGWPp9gmV5MllFcU+G3qJYV6l/9mba/XpnxyGTMFYeATzT56HoL5iJYrVxEnxPDolahwhaRerlBlSYYFnWqRX+jxwDBuEliIby1A9690T/yqkhPBTb4Ag6+iG1xyoyeBCeqakGETRKCO1Q7KgqIgmSnTJgQTMsadbTkG7tGZLFRo54gmWpCAYRM4SuP03t8wKEdzMPEByJuIIEy+mMbUhtTsRqZ+4UiaVphdByPxlOqZ0eaZCT1DKSSlP8JKWWpi16klLra/bu4W9BUFoJw4IvaCd9QoYxhqGFkCFEGIZ2IBJqa/BnQ8eJ0IyItX3xCKFSA03QTv4qdOZ8QF38/kJnBQUmjqGiE8NIhnT2TcM/x6yQWuwGBH5RW0OkFrvBhmyYgeHxK83xZ4vjz/jH79qaOIZ0Ou/jr54irYAp7QkffxfjD+xERSmmlHYTo5QaSoXmL+zqywi9t6AUQnc7Bt2Q0HzvwD2J4aC0H+zAT1Nanw9tmqKfVFhoJSnW0dI7Q0INzZk/cGII+dQXsTrjOP7JPdQlFMGDewXuSCQ4Cn9AM6S0MrwH7yQ7ubnwCtpCmKogVrGhtWx6BCVPyZ0sfQDhZhfZOnoB4SNNaoVP+N5yvkKv434hrD8VE+VBeCGkoPY5CBbgr5iHoFP0PASWxV31C8pjMJ7KnN438VhnCJP6R+9D7u1uelJ7+FuAVu0YjaLOaAjesGHcGse+od2prQHQ9Vsc+zHfF82g6D7FUYgxpxL6ChSzWpcUfd3kG78rAFWnTm8shaiXA7wq+APISi9K3HE6qVFXB9G7ABKqYdJz08x6mio4yruXfwgAkA/AQVLUekFbDXruxtEoVdd1af/XyphxafQ0VIVzTf0r/XAxGqZuVOW5trwppe5R2rI24zxVRWaaTm4elei3tW3O33S2+uShCbKYOiP6vYtgYWd/O4FQL7Egh8Zs6kVXNPty1AXZLhxgWESA3s3S6JagpNUbNy+WPkoKRU1SVl2Ne1BBCDORKTwAk0EL371k3ZB4JRpgrqOcEC5/1o5D6mS1y/gY4fulN1NKR7uED6+dHx1VMset2zDBCJUmV0F/elAe0dF8fy8HhjrODfU1x+67+znQjrHq56pi+c3vUlJvfTEfk958K4z7XszHROivVBw5fTtB7xS/cckEvj4CHxTL2F9woPL59onqGPcjDgyJ/ZxizHsYck6ZoVdEvBe/ZUdBsHSniuKEUY4JJsH3xDm0AYaMYJyDN5Bqmn8P/ukwYoL4ipKaIPZYxDgYiw7mOc0Y9ycxwBNM2Gv/F7SXQfDvhyIhRpweNdYLQggIjRFFklXmCka1gRjPy+JRI+QpaUGEhxdkpAeS0Ai+5jYQnSh+CbxtSriOXgmrp6AJrZhWCTJM/eO3EFJsqPajzxw8hCFBRLvXGx1vQ/qF9Iz3Qy8Etn834nntNNZriBHwbcCzCaFvraG9qHjEa4mRUZJ69t8yoxCWYvYwjPOeZSx8PrllM92f2T8QsxqGXgMxxjuBEfF4VwryStJy/4yYV6HxKTU5zfeO3Tv8+aycLux+v92d/c2JU79TkGEYhmEYhmEYhmEYhmGQ+Qfu5VVs9enIIwAAAABJRU5ErkJggg=="},b497:function(t,e,a){"use strict";var n=a("864c"),i=a.n(n);i.a},b583:function(t,e,a){},c570:function(t,e,a){},cec2:function(t,e,a){},d196:function(t,e,a){"use strict";var n=a("a572"),i=a.n(n);i.a},d50e:function(t,e,a){t.exports=a.p+"img/pink-google-maps-marker.96447995.svg"},dcfa:function(t,e,a){},e17d:function(t,e,a){"use strict";var n=a("c570"),i=a.n(n);i.a},ee9d:function(t,e,a){"use strict";var n=a("9e73"),i=a.n(n);i.a},f093:function(t,e,a){"use strict";var n=a("cec2"),i=a.n(n);i.a},f1aa:function(t,e,a){"use strict";var n=a("5e74"),i=a.n(n);i.a},f440:function(t,e,a){t.exports=a.p+"img/blue-google-maps-marker.7dbbad91.svg"},f8fa:function(t,e,a){"use strict";var n=a("dcfa"),i=a.n(n);i.a}});
//# sourceMappingURL=app.9f71c160.js.map